ver:"3.0"
id,name,ac,active,admin,ahu,ahuGroup,ahuRule,air,airRef,appName,area,availableCapacity,calendar,calendarGrid,calendarRef,chilledWaterCooling,cmd,co2,concentration,cool,costPerHour,created,cur,curStatus,curVal,cur_cond,cur_humidity,cur_temp,cur_time,damper,daytime,demoMode,demogen,directZone,dis,disMacro,discharge,doc,domestic,dxCooling,effective,elec,elecCost,elecHeating,elecRef,energy,enum,equip,equipNav,equipPath,equipRef,ext,f210524_sunset,f210524_tempMax,f210524_tempMin,f220524_cond,f220524_sunrise,f220524_sunset,f220524_tempMax,f220524_tempMin,f230524_cond,f230524_sunrise,f230524_sunset,f230524_tempMax,f230524_tempMin,f240524_cond,f240524_sunrise,f240524_sunset,f240524_tempMax,f240524_tempMin,fan,fanPowered,floor,floorNum,flow,func,geoAddr,geoCity,geoCoord,geoCountry,geoPostalCode,geoState,geoStreet,ground,heat,help,his,hisEnd,hisFunc,hisFuncReady,hisInterval,hisMode,hisRollupFunc,hisSize,hisStart,hot,hotWaterHeating,hq,humidity,hvac,image,impact,inlet,kind,kpiRule,kwSite,lighting,lightingRule,luminaire,meter,meterPoints,metro,mixed,naturalGas,navMeta,navName,net,nextTime,nextVal,noteTopic,occupied,occupiedEnd,occupiedStart,order,outside,parking,plug,point,power,pressure,pressureIndependent,primaryFunction,projIncludeFilter,projMeta,region,regionRef,reheat,return,rtu,rule,ruleFunc,ruleOn,run,schedule,scheduleGrid,sensor,sensorRule,series,singleDuct,site,siteMeter,sitePoint,siteRef,sp,space,spaceRef,sparkGroupings,sparkRule,sparkTopic,spec,speed,src,stage,startDate,state,steadyState,store,storeNum,submeterOf,subterranean,summary,tags,temp,template,templateName,topic,topicOn,total,tz,uiMeta,unit,updated,using,valve,variableAirVolume,vav,vavZone,version,vfd,view,volume,water,weather,weatherAutoSyncForecast,weatherCond,weatherForecast,weatherStation,weatherStationRef,weatherSyncId,weatherSyncIds,yearBuilt,zone,mod
@p:demo:r:2de0dfb5-9ef8be74 "Temp Sensor Failure","tempSensorFailure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Temp Sensor Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Sensor has failed to change over 24 hour period. Because it requires a\nfull day of analysis, this rule always skips today.\n\nRecommended Actions\n===================\n1. Check calibration settings in control system\n2. Physical replacement of the sensor\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"temp and sensor and point",,,,,,,,,,,,,,,,M,,,,"/*\n  Temperate sensor failure - demo customization which\n  wraps standard  'sensorFailure' to add priority tag\n*/\ndefcomp\n\n  target:   {}\n  date:     {}\n  out:      {readonly}\n  priority: {bindTuning:\"priority\", defVal:\"med\"}\n\n  do\n    // call standard sensorFailure\n    faults: sensorFailure(target, date)\n    if (faults == null or faults.isEmpty) return null\n\n    // add costing/priority to the spark as additional tags\n    out = faults.addMeta({spark_priority: priority})\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.505Z
@p:demo:r:2de0dfb5-2d1090d8 "p:demo:r:2de0dfb5-2d1090d8",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,"his",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.478Z
@p:demo:r:2de0dfb5-f3ac545b "importHisFromCsv","importHisFromCsv",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This function provides a simple example to parse a CSV file\n  into timestamp/value pairs to write into the historian\n*/\n(point, file: `io/import-his.csv`) => do\n\n  // read CSV into grid and parse:\n  //  - ts to DateTime\n  //  - kw to Numbers\n  hisGrid: ioReadCsv(file).map row => do\n\n    // skip rows missing the \"kw\" cell\n    if (row.missing(\"kw\")) return null\n\n    // return new parsed row\n    {ts: row->ts.parseDateTime, val: row->kw.parseNumber}\n\n  end\n\n  // write to given point\n  hisWrite(hisGrid, point)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.52Z
@p:demo:r:2de0dfb5-051d6185 "Headquarters VAV-1A ZoneTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",78.2°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneAirTempSensor,,,,,,,,,,,M,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.581Z
@p:demo:r:2de0dfb5-e5da8777 "Headquarters VAV-1A Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-a6d6549e "Headquarters ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T23:15:00-04:00 New_York,,,,"cov",,10908,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeFanRunCmd,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.589Z
@p:demo:r:2de0dfb5-ba857194 "Temp Sensor Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Temp Sensor Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Sensor has failed to change over 24 hour period. Because it requires a\nfull day of analysis, this rule always skips today.\n\nRecommended Actions\n===================\n1. Check calibration settings in control system\n2. Physical replacement of the sensor\n\n**Priority:** Medium",,,,,,,,,,,,,,,,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"tempSensorFailure","temp and sensor and point",,,,,M,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.648Z
@p:demo:r:2de0dfb5-8d9a86a8 "Gaithersburg ElecMeter-Plug kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",930.9kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-a4bd61c4 "Gaithersburg ElecMeter-Plug",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.661Z
@p:demo:r:2de0dfb5-35ec48ca "Small General Winter Schedule",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1e881312 "Main Calendar",,,,,,,,M,"ok","onPeak",,,,,,,,,,"Small General Winter Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Str",,,,,,,,,,,,,,2024-05-22T18:00:00-04:00 New_York,"offPeak",,,,,,,,,M,,,,,,,,,,,,,,,,M,<<
ver:"3.0"
calendar,dateSpan,dis,end,start,val,weekdays
,"*-06-01..*-09-30","Summer",00:00:00,00:00:00,"inactive",
"Holiday",,"Holiday",00:00:00,00:00:00,"offPeak",
,,"Weekends",00:00:00,00:00:00,"offPeak","sun,sat"
,,"On Peak",18:00:00,12:00:00,"onPeak","mon,tue,wed,thu,fri"
,,"Off Peak",00:00:00,00:00:00,"offPeak","sun,mon,tue,wed,thu,fri,sat"

>>,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.732Z
@p:demo:r:2de0dfb5-41efe13d "testJob","testJob",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  echo(\"TestJob start...\")\n  10.times(i => do\n    jobProgress(i*10, echo(\"TestJob \" + i + \"...\"))\n    jobSleep(1sec)\n  end)\n  echo(\"TestJob done!\")\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.495Z
@p:demo:r:2de0dfb5-bcaad390 "renameSites","renameSites",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  // rename all the sites\n\n  // update projMeta\n  read(projMeta).diff({dis:\"North\", doc:\"Demo sites in north\", demoProj}).commit\n\n  // read Washington DC region\n  dc: read(region and dis==\"Washington DC\", false)\n  if (dc == null) throw \"Cannot find Washington DC region, did you run renameSites twice?\"\n\n  // mapping\n  changes: {\n    // regions - change Richmond, tweak washington\n    \"Richmond\":  {dis:\"Philadelphia\"},\n    \"Washington DC\": {dis:\"Washington DC North\"},\n\n    // weather - change Richmond, leave DC\n    \"Richmond, VA\": {dis:\"Philadelphia, PA\"},\n\n    // sites\n    \"Carytown\":     {dis: \"Rittenhouse\", geoStreet: \"100 Walnut St\",    geoCity: \"Philadelphia\", geoState:\"PA\", geoPostalCode: \"19004\"},\n    \"Gaithersburg\": {dis: \"Woodly Park\", geoStreet: \"3133 Connecticut\", geoCity: \"Washington\",   geoState:\"DC\", geoPostalCode: \"20008\", regionRef:dc->id},\n    \"Headquarters\": {dis: \"Chevy Chase\", geoStreet: \"31 Center Dr\",     geoCity: \"Bethesda \",    geoState:\"MD\", geoPostalCode: \"20810\", regionRef:dc->id},\n    \"Short Pump\":   {dis: \"Fairhill\",    geoStreet: \"N 4th St\",         geoCity: \"Philadelphia\", geoState:\"PA\", geoPostalCode: \"19880\"},\n  }\n\n  changes.each() (c, disKey) => do\n    rec: read(dis == disKey)\n    if (rec.has(\"site\")) do\n      c = c.set(\"metro\", rec->regionRef->dis)\n      c = c.set(\"geoAddr\", \"\" + c->geoStreet + \", \" + c->geoCity + \" \" + c->geoState)\n    end\n    diff(rec, c).commit\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.54Z
@p:demo:r:2de0dfb5-6e62bede "Short Pump  RTUs",,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,," RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph::Equip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.631Z
@p:demo:r:2de0dfb5-2d4d5c0b "Short Pump Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph::Equip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.623Z
@p:demo:r:2de0dfb5-1e2356fa "Headquarters VAV-1B FlowSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",50cfm,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,M,"Number",,,,,,,,,,,,"FlowSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",M,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::InletAirFlowSp,,,,,,,,,,,,,,,,,,,"New_York",,"cfm",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.593Z
@p:demo:r:2de0dfb5-465d6a65 "Gaithersburg RTU-2 Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T21:15:00-04:00 New_York,,,,"cov",,11513,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::DischargeFanRunCmd,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.701Z
@p:demo:r:2de0dfb5-23191696 "Headquarters Floor-1 Lights  Status",,,,,,,,,,,,,,,,,M,,,,2.4$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,"off,on",,,,@p:demo:r:2de0dfb5-06738eaf "Headquarters Floor-1 Lights ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T18:45:00-04:00 New_York,,,,"cov",,1452,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::RunCmd,,,,,M,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.565Z
@p:demo:r:2de0dfb5-8ad906db "p:demo:r:2de0dfb5-8ad906db",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,"point",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.484Z
@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"\$siteRef \$navName",,,,M,,,,M,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,"RTU-1",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,M,,,,,,,,,,M,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph::Rtu,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.61Z
@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,M,,,,,,,,,,425kW,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph::AcElecMeter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:17.947Z
@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"\$siteRef \$navName",,,,M,,,,M,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,,M,,,@p:demo:r:2de0dfb5-2c5ceb92 "Gaithersburg  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,"RTU-2",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,M,,,,,,,,,,M,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::Rtu,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.691Z
@p:demo:r:2de0dfb5-46c1b9e6 "ZoneTemp Occ Avg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Occ Avg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Average zone temp during occupancy",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiZoneTempOccAvg","rtu or vav",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.659Z
@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,,,,,3149ft²,,,,,,,,,,,,,,,,,,,,,,,,"Carytown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"3504 W Cary St, Richmond, VA","Richmond",C(37.555385,-77.486903),"US","23221","VA","3504 W Cary St",,,,,,,,,,,,,,,,,,`/pod/demoExt/res/Carytown.jpg`,,,,,,,,,,,"Richmond",,,,,,,,,,20:00:00,10:00:00,,,,,,,,,"Retail Store",,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,M,,,,,,,,,,@ph::Site,,,,,,,M,1,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA",,,1928,,2024-05-22T16:54:13.601Z
@p:demo:r:2de0dfb5-d0e41992 "Headquarters ElecMeter-Hvac kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",643.8kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-a6d6549e "Headquarters ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.554Z
@p:demo:r:2de0dfb5-ae4119db "Short Pump RTU-2 ReturnTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",69.2°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,M,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::ReturnAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.652Z
@p:demo:r:2de0dfb5-2c5ceb92 "Gaithersburg  RTUs",,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,," RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::Equip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.678Z
@p:demo:r:2de0dfb5-776701b2 "Sensor has N/A Data","sensorHasNaData",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Sensor has N/A Data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"N/A was logged for the sensor during this time frame. This is usually\ndue to a network connectivity issue.\n\nRecommended Actions\n===================\n1. Check the connector configuration\n2. Check the point configuration\n3. Check the remote system\n\n**Priority:** Low",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"sensor and point",,,,,,,,,,,,,,,,M,,,,"/*\n  Find all periods when the the point has na data\n*/\ndefcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  do\n    hisRead(target, date).hisFindPeriods(v => v == na())\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.506Z
@p:demo:r:2de0dfb5-7f19e781 "zoneTempMonth","zoneTempMonth",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Sample zone temp 15min data for Aug-2105\n() => do\n  hisStart: dateTime(2015-08-01, 0:00)\n  hisEnd: dateTime(2015-09-01, 0:00)\n  ts: hisStart - 15min\n  g: ioReadCsv(`io/zoneTempMonth.csv`).map r => do\n    ts = ts + 15min\n    {ts: ts, v0: parseNumber(r->temp).as(\"°F\")}\n  end\n  g.addColMeta(\"v0\", {dis: \"Zone Temp Sample\"})\n   .addMeta({hisStart: hisStart, hisEnd: hisEnd, view:\"chart\"})\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.523Z
@p:demo:r:2de0dfb5-5d738c33 "Headquarters AHU-1 DischargePressure",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",2inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeAirPressureSensor,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.578Z
@p:demo:r:2de0dfb5-1743189e "AHU Outside Damper Stuck Open","ahuOutsideDamperStuckOpen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Open",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Damper should be closed, but temp differential between mixed air\nsensor and return air sensor indicates that significant outside\nair is being mixed.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded open during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"rtu",,,,,,,,,,,,,,,,M,,,,"/*\n  Damper should be closed, but temp differential between mixed air\n  sensor and return air sensor indicates that significant outside\n  air is being mixed.  If mixed sensor is available we use discharge\n  sensor but only when unit is not cooling nor heating.\n*/\ndefcomp\n\n  target:        {}\n  date:          {}\n  out:           {readonly}\n  fan:           {bind:\"fan and cmd and equipRef=={{target->id}}\"}\n  damper:        {bind:\"damper and cmd and equipRef=={{target->id}}\"}\n  returnTemp:    {bind:\"return and air and temp and sensor and equipRef=={{target->id}}\"}\n  mixedTemp:     {bind:\"mixed and air and temp and sensor and equipRef=={{target->id}}\"}\n  dischargeTemp: {bind:\"discharge and air and temp and sensor and equipRef=={{target->id}}\"}\n  tolerance:     {bindTuning:\"tolerance\", defVal:8Δ°F}\n\n  do\n    // convert tolerance to metric if neccessary\n    if (isMetric(dischargeTemp)) tolerance = tolerance.to(1Δ°C)\n\n    // get our periods\n    fanOn: hisRead(fan, date).hisFindPeriods(matchPointVal(_, true))\n    damperClosed: hisRead(damper, date).hisFindPeriods(matchPointVal(_, 0..10))\n\n    // if we have mixed air sensor find periods outside of our\n    // tolerance range; otherwise use difference between return\n    // and discharge but only when heating and cooling is off\n    match: diff => diff != na() and diff.abs > tolerance\n    if (mixedTemp != null) do\n      tempPeriods: ahuTempDiff(mixedTemp, returnTemp, date).hisFindPeriods(match)\n    else do\n      tempPeriods: hisPeriodIntersection([\n        ahuTempDiff(returnTemp, dischargeTemp, date).hisFindPeriods(match),\n        ahuCoolPeriods(target, date, false),\n        ahuHeatPeriods(target, date, false)])\n    end\n\n    // compute intersection of periods\n    out = hisPeriodIntersection([fanOn, damperClosed, tempPeriods])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.497Z
@p:demo:r:2de0dfb5-a6be49e4 "demoSiteCard","demoSiteCard",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(siteRef, span, tile) => do\n\n  site: if (siteRef == @default) read(site and dis==\"Short Pump\") else toRec(siteRef)\n  spanDis: span.toSpan.format\n  weather: toWeather(site)\n  kw: read(point and power and siteMeter and siteRef==site->id)\n  kwh: read(point and energy and siteMeter and siteRef==site->id)\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 1 - Site profile card\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 1) do\n    data: {\n      title: site.dis,\n      subtitle: site[\"geoAddr\"],\n      primary: parseUri(\"\"+site[\"image\"]),\n      area: site[\"area\"],\n      yearBuilt: format(site[\"yearBuilt\"], \"####\"),\n    }\n\n    return toGrid(data, {view:\"card\"})\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 2 - Current weather\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 2) do\n    cond: read(weatherCond and weatherStationRef==weather->id)[\"curVal\"]\n\n    data: {\n      title: \"Current Weather\",\n      subtitle: weather.dis,\n      primary: iconUri(cond),\n      temp: read(temp and weatherStationRef==weather->id)[\"curVal\"],\n      humidity: read(humidity and weatherStationRef==weather->id)[\"curVal\"],\n    }\n\n    return toGrid(data, {view:\"card\"})\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 3 - Live kW\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 3) do\n    toData: (pt) => {\n      id: pt->id,\n      title: \"Current Demand\",\n      subtitle: format(pt[\"curVal\"]),\n      primary: pt[\"curVal\"],\n    }\n\n    prez: [\n      {col:\"id\", hidden},\n      {col: \"primary\", viz: \"gaugeCell\", chartMin:700, chartMax: 1200, colors:\"#2ecc71,#f1c40f,#f39c12\", format:\"_blank\"},\n    ].toGrid\n\n    return readAllStream(id==kw->id)\n            .limit(1)\n            .map(toData)\n            .setMeta({view:\"card\", presentation:prez})\n            .feed\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 4 - Live zone temp sensor\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 4) do\n    temp:\n    toData: (pt) => do\n      curVal: pt[\"curVal\"]\n      scaledVal: (curVal - 65) / (77 - 65)  // scale b/w 65°F and 77°F\n\n      return {\n        id: pt->id,\n        title: \"Current Zone Temp\",\n        subtitle: pt.dis,\n        primary: curVal,\n        color: vizInterpolateRgb(\"#3498db,#888,#e74c3c\", scaledVal)\n      }\n    end\n\n    return readAllStream(zone and temp and sensor and siteRef==site->id)\n            .limit(1)\n            .map(toData)\n            .setColMeta(\"primary\", {format:\"0.0\"})\n            .setColMeta(\"id\", {hidden})\n            .setColMeta(\"color\", {hidden})\n            .setMeta({view:\"card\"})\n            .feed\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 5 - Number of sparks over span for site\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 5) do\n    sparksCount: ruleTargetsUnder(site).ruleSparksCount(span, null)\n\n    data: {\n      title: \"Sparks\",\n      subtitle: spanDis,\n      primary: sparksCount,\n      viewLink: {view:\"sparkSwivel\", state:{span:span.toSpan, targets:[navRef(\"equip\", site)]}},\n    }\n\n    prez: [\n      {col: \"primary\", color:\"#f39c12\"},\n    ].toGrid\n\n    return toGrid(data, {view:\"card\", presentation: prez})\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 6 - Number of open work orders for site\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 6) do\n    workorders: arcReadAllUnder(site, workorder and workorderState==\"open\")\n\n    arcFilter: \"workorder and {{arcState arcState \\\"open\\\"}} and {{arcOn under @\" + site->id + \"}}\"\n    data: {\n      title: \"Work Orders\",\n      subtitle: \"Open\",\n      primary: workorders.size,\n      viewLink: {view:\"arcSummary\", state:{filter:arcFilter}},\n    }\n\n    prez: [\n      {col: \"primary\", color:\"#8e44ad\"},\n    ].toGrid\n\n    return toGrid(data, {view:\"card\", presentation: prez})\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 7 - Energy benchmark across all sites over span\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 7) do\n    data: readAll(energy and siteMeter and point)\n          .map(r=>r.merge({\n            dis: readById(r->siteRef).dis,\n            viz: \"barCell\",\n            color: if (r->id == kwh->id) \"#2980b9\" else \"#9b59b6\",\n          }))\n          .sortDis\n          .hisRead(span)\n          .hisClip\n          .hisRollup(sum, \"*\")\n          .addCol(\"title\",    ()=>\"Energy Benchmark\")\n          .addCol(\"subtitle\", ()=>spanDis)\n\n    prez: [\n      {col:\"ts\", hidden},\n    ].toGrid\n\n    return data.addMeta({view:\"card\", vizByUnit, presentation: prez})\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 8 - Schedule\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 8) do\n    occupied: site->occupiedStart <= now().time and now().time <= site->occupiedEnd\n    data: {\n      title: \"Occupancy Schedule\",\n      subtitle: if (occupied) \"Currently: Occupied\" else \"Currently: Unoccupied\",\n      primary: iconUri(\"calendar\"),\n      occupied: format(site[\"occupiedStart\"]) + \" - \" + format(site[\"occupiedEnd\"]),\n    }\n\n    prez: [\n      {col: \"subtitle\", color: if (occupied) \"#2ecc71\" else \"#e74c3c\"},\n    ].toGrid\n\n    return toGrid(data, {view:\"card\", presentation: prez})\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 9 - Energy consumption over span\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 9) do\n    data: {\n      title: \"Energy Consumption\",\n      subtitle: spanDis,\n      primary: hisRead(kwh, span).hisClip.foldCol(\"v0\", sum),\n    }\n\n    prez: [\n      {col: \"primary\", color:\"#2980b9\"},\n    ].toGrid\n\n    return toGrid(data, {view:\"card\", presentation: prez})\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Tile 10 - Card deck for site equip\n  //////////////////////////////////////////////////////////////////////////\n\n  if (tile == 10) do\n    equipToIcon: (equip) => do\n      if (equip.has(\"meter\")) do\n        if (equip.has(\"elec\")) return `/icon/elec`\n        if (equip.has(\"naturalGas\")) return `/icon/gas`\n        if (equip.has(\"water\")) return `/icon/water`\n      end\n      if (equip.has(\"ahu\")) return `/icon/fan`\n      if (equip.has(\"luminaire\")) return `/icon/lightbulb`\n      return `/icon/equip`\n    end\n\n    toData: (equip) => {\n      title: relDis(site.dis, equip.dis),\n      primary: equipToIcon(equip),\n      numPoints: readCount(point and equipRef == equip->id),\n      viewLink: {view:\"hisEquip\", state:{equip:equip->id}},\n    }\n\n    return readAllStream(equip and siteRef == site->id and not ahuGroup)\n           .map(toData)\n           .addMeta({view:\"card\"})\n           .collect(toGrid)\n           .sort(\"title\")\n  end\n\n  //////////////////////////////////////////////////////////////////////////\n  // Fallback - Return todo place holder card\n  //////////////////////////////////////////////////////////////////////////\n\n  return {\n    title: \"TODO\",\n    primary: \"TODO \" + tile,\n  }.toGrid({view:\"card\"})\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.534Z
@p:demo:r:2de0dfb5-a13089fb "Headquarters Misc Occupancy",,,,,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,"unocc,occ",,,,@p:demo:r:2de0dfb5-a00ca905 "Headquarters Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T18:15:00-04:00 New_York,,,,"cov",,1452,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Occupancy",,,,,M,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-34930744 "Headquarters",M,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::OccupiedSp,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.545Z
@p:demo:r:2de0dfb5-8b21e947 "Short Pump ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,,,,M,"ok",77.9$,,,,,,,,,,,"\$equipRef \$navName",,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwhToCost",,,"sampled","sum",,,,,,,,,,,"Number",,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::NumberPoint,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.628Z
@p:demo:r:2de0dfb5-e37ee7ba "Site Report",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Site Report",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"page\"}\nsite: {var kind:\"Ref<site>\" defVal:@default input}\nspan: {var kind:\"Span\" input defVal:Span(\"lastWeek\")}\nsection1: Trio:\n  view: {inherit:\"fandoc\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 1)\"}\nsection2: Trio:\n  view: {inherit:\"chart\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 2)\"}\nsection3: Trio:\n  view: {inherit:\"chart\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 3)\"}\nsection4: Trio:\n  view: {inherit:\"chart\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 4)\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoSiteReport",,,,,,,,,,,,,2024-05-22T16:54:13.722Z
@p:demo:r:2de0dfb5-3f273b04 "Headquarters AHU-1 OutsideDamper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",36.4%,,,,,M,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"OutsideDamper",,,,,,,,,M,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::OutsideDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.571Z
@p:demo:r:2de0dfb5-7d0de873 "AHU Fan Runtime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Runtime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Total time the AHU fan was running",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiAhuFanRuntime","ahu",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.658Z
@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,,,,,17122ft²,,,,,,,,,,,,,,,,,,,,,,,,"Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11282 W Broad St, Richmond, VA","Glen Allen",C(37.650338,-77.606105),"US","23060","VA","11282 W Broad St",,,,,,,,,,,,,,,,,,`/pod/demoExt/res/Short Pump.jpg`,,,,,,,,,,,"Richmond",,,,,,,,,,21:00:00,10:00:00,,,,,,,,,"Retail Store",,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,M,,,,,,,,,,@ph::Site,,,,,,,M,3,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA",,,1936,,2024-05-22T16:54:13.622Z
@p:demo:r:2de0dfb5-3119872b "Store Schedule",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1e881312 "Main Calendar",,,,,,,,M,"ok",T,,,,,,,,,,"Store Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Bool",,,,,,,,,,,,,,2024-05-22T20:45:00-04:00 New_York,F,,,,,,,,,M,,,,,,,,,,,,,,,,M,<<
ver:"3.0"
dis,end,start,val,weekdays
"Normal Store Hours",20:45:00,08:00:00,T,"sun,mon,tue,wed,thu,fri,sat"
"Unoccupied Default",00:00:00,00:00:00,F,"sun,mon,tue,wed,thu,fri,sat"

>>,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.731Z
@p:demo:r:2de0dfb5-fdecf70d "Gaithersburg RTU-1 OutsideDamper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",73.6%,,,,,M,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"OutsideDamper",,,,,,,,,M,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::OutsideDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.682Z
@p:demo:r:2de0dfb5-06738eaf "Headquarters Floor-1 Lights ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Floor-1 Lights ",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph::Luminaire,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.564Z
@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,,,,,8013ft²,,,,,,,,,,,,,,,,,,,,,,,,"Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18212 Montgomery Village Ave, Gaithersburg, MD","Gaithersburg",C(39.154824,-77.209002),"US","20879","MD","18212 Montgomery Village Ave",,,,,,,,,,,,,,,,,,`/pod/demoExt/res/Gaithersburg.jpg`,,,,,,,,,,,"Washington DC",,,,,,,,,,21:00:00,09:00:00,,,,,,,,,"Retail Store",,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,M,,,,,,,,,,@ph::Site,,,,,,,M,4,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-36cf83e0 "Washington, DC",,,1940,,2024-05-22T16:54:13.656Z
@p:demo:r:2de0dfb5-a2298ddd "p:demo:r:2de0dfb5-a2298ddd",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ph",,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.473Z
@p:demo:r:2de0dfb5-2d48ed66 "Headquarters ElecMeter-Lighting kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",985.9kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.551Z
@p:demo:r:2de0dfb5-a9f47f81 "Short Pump RTU-1 Cool-2",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:30:00-04:00 New_York,,,,"cov",,2198,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::CoolCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.637Z
@p:demo:r:2de0dfb5-a4bd61c4 "Gaithersburg ElecMeter-Plug",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Plug",,,,,,,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::AcElecMeter,,,,,,,,,@p:demo:r:2de0dfb5-bef1123b "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.659Z
@p:demo:r:2de0dfb5-570185aa "Washington, DC Temp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",80°F,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:00:00-04:00 New_York,,,,,,4782,2023-01-01T02:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Temp",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherTempPoint,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-36cf83e0 "Washington, DC","temp",,,,2024-05-22T16:54:13.709Z
@p:demo:r:2de0dfb5-adb3e606 "Headquarters VAV-1B Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-a6d6549e "Headquarters ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T23:30:00-04:00 New_York,,,,"cov",,10926,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeFanRunCmd,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.6Z
@p:demo:r:2de0dfb5-852834a8 "Washington, DC Condition",,,,,,,,,,,,,,,,,,,,,,,M,"ok","clear",,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,"unknown,clear,partlyCloudy,cloudy,showers,rain,thunderstorms,ice,flurries,snow",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:00:00-04:00 New_York,,,,"cov",,4782,2023-01-01T02:00:00-05:00 New_York,,,,,,,,,"Str",,,,,,,,,,,,"Condition",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherCondPoint,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,M,,M,,,@p:demo:r:2de0dfb5-36cf83e0 "Washington, DC","condition",,,,2024-05-22T16:54:13.711Z
@p:demo:r:2de0dfb5-2ae5db5c "demoCharts","demoCharts",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(span, sample: \"AHU\") => do\n\n  // common data\n  dates: span.toSpan\n  ahuRec: read(ahu and rtu)\n  xyData: ioReadZinc(`io/chart-data.zinc`)\n\n  // AHU\n  ahu: () => do\n    ahuRec.toPoints.hisRead(dates).hisRollupAuto\n      .addMeta({title: ahuRec.dis + \" \\u2022 \" + dates.format})\n  end\n\n  // AHU With NA\n  ahuNa: () => do\n    ahuRec.toPoints.hisRead(dates)\n      .hisInterpolate\n      .hisMap((v,ts) => if (ts.hour == 3) na() else v)\n      .addMeta({title: ahuRec.dis + \" (NA) \\u2022 \" + dates.format})\n  end\n\n  // KWH Stacked Bar\n  stackedBar: () => do\n    lastYear: today().year - 1\n    doKwh: (chartType) => do\n      readAll(energy and siteMeter)\n        .map(r => r.set(\"chartType\", chartType))\n        .hisRead(lastYear).hisRollup(sum, 1mo)\n    end\n    hisJoin([doKwh(\"pie\"), doKwh(\"stackedBar\")])\n      .addMeta({title: \"KWH \\u2022 \" +  lastYear.as(1)})\n  end\n\n  // Negative Bar\n  negBar: () => do\n    g: xyData.map() (r,i) => do\n      dis: (\"A\"[0]+i).toChar\n      val: if (i.isOdd) r->y else -(r->y)\n      {x: dis, y: val}\n    end\n    g.addColMeta(\"y\", {chartType:\"bar\"})\n     .addMeta({title: \"Negative Bar Chart\"})\n  end\n\n  // Donut KWH last week\n  donut: () => do\n    readAll(energy and siteMeter)\n      .map(r => r.set(\"chartType\", \"donut\"))\n      .hisRead(lastWeek).hisRollup(sum, 1day)\n      .addMeta({title: \"KWH \\u2022 Last Week\"})\n  end\n\n  // Zone Temp HeatMap\n  heatMap: () => do\n    zoneTempMonth()\n      .addMeta({chartType:\"heatMap\", title: \"Zone Temp \\u2022 HeatMap \\u2022 Aug 2015\"})\n  end\n\n  // show explicit min/max\n  chartMinMax: () => do\n    xyData\n      .addColMeta(\"y\", {dis: \"Chart Min/Max\", chartMin: -20, chartMax: 20})\n      .addMeta({title: \"Chart Min/Max\"})\n  end\n\n  // group for multiple y-axes\n  chartGrouping: () => do\n    addChartMeta: (dict) => dict.set(\"chartGroup\",\"one\")\n    temp:   read(zone and temp and sensor and equipRef==ahuRec->id).addChartMeta\n    pres:   read(pressure and sensor and equipRef==ahuRec->id).addChartMeta\n    damp:   read(damper and cmd and equipRef==ahuRec->id).addChartMeta\n    kw:     read(power and siteMeter and siteRef==ahuRec->siteRef).addChartMeta\n    hisRead([temp, pres, damp, kw], dates)\n      .addMeta({title: \"Chart Grouping \\u2022 \" + dates.format})\n  end\n\n  // catch all\n  sampleMap:\n  {\n    \"AHU\": ahu,\n    \"AHU with NA\": ahuNa,\n    \"Stacked Bar\": stackedBar,\n    \"Negative Bar\": negBar,\n    \"Donut\": donut,\n    \"HeatMap\": heatMap,\n    \"Chart Min/Max\": chartMinMax,\n    \"Chart Grouping\": chartGrouping,\n  }\n\n  fn: sampleMap[sample]\n  if (fn == null) fn = ahu\n  fn()\nend\n",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.531Z
@p:demo:r:2de0dfb5-fe96fdff "Headquarters AHU-1 DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",79.5°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.576Z
@p:demo:r:2de0dfb5-3a62f015 "KW Exceeds Target","kwTooHigh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"KW Exceeds Target",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"KW exceeds target",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"elec and meter",,,,,,,,,,,,,,,,M,,,,"defcomp\n  target:  {}\n  date:    {}\n  out:     {readonly}\n  powerPt: {bind:\"power and point and equipRef=={{target->id}}\"}\n  limit:   {bindTuning:\"limit\", defVal:400kW}\n  do\n    out = hisRead(powerPt, date).hisFindPeriods(kw => kw > limit)\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.508Z
@p:demo:r:2de0dfb5-a47d459d "Headquarters AHU-1 ReturnTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",75.6°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,M,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ReturnAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.574Z
@p:demo:r:2de0dfb5-5df4b105 "Gaithersburg RTU-1 Heat-2",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,2060,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::HeatCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.686Z
@p:demo:r:2de0dfb5-a61ed5bd "Gaithersburg RTU-1 DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",79.1°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.688Z
@p:demo:r:2de0dfb5-1d309789 "Gaithersburg ElecMeter-Lighting kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",1074.8kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-05db4714 "Gaithersburg ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.664Z
@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,M,,,,,,,,,,625kW,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph::AcElecMeter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:20.118Z
@p:demo:r:2de0dfb5-2aa8f459 "Tenant Template",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Tenant Template",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"dis: {kind:\"Str\" validate:\"validateNotBlank\"}\nsiteRef: {kind:\"Ref<site>\"}\nbillingCycle: {kind:\"Str\" enum:\"Monthly, Quarterly, Yearly\"}\nfloorSpace: {kind:\"Number\" defVal:0ft²}\ndemoTenant: {kind:\"Marker\" defVal:M}",,"demoTenant",,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.728Z
@p:demo:r:2de0dfb5-2cf4e1dd "Gaithersburg RTU-2 ReturnTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",59.3°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,M,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ReturnAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.699Z
@p:demo:r:2de0dfb5-a6d6549e "Headquarters ElecMeter-Hvac",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,M,,,,,,"ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph::AcElecMeter,,,,,,,,,@p:demo:r:2de0dfb5-e43cbeaa "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.553Z
@p:demo:r:2de0dfb5-0555e00e "Gaithersburg Parking Lights Status",,,,,,,,,,,,,,,,,M,,,,1.8$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-05db4714 "Gaithersburg ElecMeter-Lighting",,"off,on",,,,@p:demo:r:2de0dfb5-5322470b "Gaithersburg Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:00:00-04:00 New_York,,,,"cov",,1794,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Status",,,,,,,,,,M,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::RunCmd,,,,,M,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.677Z
@p:demo:r:2de0dfb5-8d8c92c2 "sparkRuleHelp","sparkRuleHelp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// given a grid of sparks, return a fandoc string of associated rule help\n(sparks) => do\n  if (sparks.missing(\"ruleRef\")) return \"\"\n  help: \"\"\n  sparks.unique(\"ruleRef\").each spark => do\n    if (help.size > 0) help = help + \"\\n---\\n\"\n    rule: readById(spark->ruleRef)\n    help = help + \"\\n\" + rule.dis + \"\\n****\\n\"\n    help = help + rule[\"help\"] + \"\\n\\n\"\n  end\n  return help\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.53Z
@p:demo:r:2de0dfb5-14ebcb69 "Headquarters VAV-1A ZoneTempSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",M,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneAirTempEffectiveSp,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.58Z
@p:demo:r:2de0dfb5-62d9826c "Short Pump RTU-2 OutsideDamper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",0%,,,,,M,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"OutsideDamper",,,,,,,,,M,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::OutsideDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.647Z
@p:demo:r:2de0dfb5-4f674298 "Short Pump RTU-1 OutsideDamper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",93.8%,,,,,M,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"OutsideDamper",,,,,,,,,M,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::OutsideDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.635Z
@p:demo:r:2de0dfc4-68d571aa "Richmond, VA Forecast",,,,,,,,,,,,,,,,,,,,,,,,,,2,55%RH,83°F,12:54:02.59,,,,,,,"\$weatherStationRef Forecast",,,,,,,,,,,,,,,,,20:18:00,65°F,65°F,1,05:55:00,20:18:00,88°F,61°F,4,05:54:00,20:19:00,87°F,66°F,3,05:54:00,20:20:00,86°F,64°F,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T12:54:27.998-04:00 New_York,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA",,,,,2024-05-22T16:54:28.018Z
@p:demo:r:2de0dfb5-7b343f1a "Prev Year Less 10%","energyBaselinePrevYearLess10",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Prev Year Less 10%",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Calculate a baseline function 10% less than last year\n(points, dates) => do\n  hisRead(points, toDateSpan(dates) - 364day).hisMap(power=>power*0.9)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.528Z
@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,M,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-a6d6549e "Headquarters ElecMeter-Hvac",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,M,,,,,,,,,,,,,,,,"AHU-1",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,M,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.equips::VavZoneAhu,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,,,,,,,,,,,,,,,,2024-05-22T16:54:13.57Z
@p:demo:r:2de0dfb5-9abc7957 "Carytown RTU-1 Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T20:15:00-04:00 New_York,,,,"cov",,1759,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::DischargeFanRunCmd,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.62Z
@p:demo:r:2de0dfb5-eb0986bc "Small General Summer Schedule",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1e881312 "Main Calendar",,,,,,,,M,"ok","inactive",,,,,,,,,,"Small General Summer Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Str",,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,<<
ver:"3.0"
calendar,dateSpan,dis,end,start,val,weekdays
,"*-01-01..*-05-31","Winter",00:00:00,00:00:00,"inactive",
,"*-10-01..*-12-31","Winter",00:00:00,00:00:00,"inactive",
"Holiday",,"Holiday",00:00:00,00:00:00,"offPeak",
,,"Weekends",00:00:00,00:00:00,"offPeak","sun,sat"
,,"On Peak",18:00:00,10:00:00,"onPeak","mon,tue,wed,thu,fri"
,,"Off Peak",00:00:00,00:00:00,"offPeak","sun,mon,tue,wed,thu,fri,sat"

>>,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.733Z
@p:demo:r:2de0dfb5-5c7d3772 "Headquarters VAV-1A DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",79.5°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.584Z
@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,M,,,M,,,,,,,,,,,,,,,,"VAV-1A",,,,,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,M,M,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph::Vav,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.579Z
@p:demo:r:2de0dfb5-303be788 "Watts/ft²","kpiWattsNorm",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Watts/ft²",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kW demand normalized to watts per square foot",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,,,,,,"//KPI to calculate watts per square foot\ndefcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  kw:     {bind:\"power and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kw == null) return null\n\n    his: hisRead(kw, date).hisClip.hisMap(kw => kw.to(1W)).energyNormByArea\n\n    if (his.isEmpty or\n        his.meta[\"hisEnd\"] < kw[\"hisStart\"] or\n        his.missing(\"v0\")) return null\n\n    out = {min: his.foldCol(\"v0\", min), max: his.foldCol(\"v0\", max)}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.517Z
@p:demo:r:2de0dfb5-c5bc469e "AHU Outside Damper Stuck Closed",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Closed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Damper should be open, but temp differential between mixed air\nsensor and outisde air sensor indicates that outside air is not\nbeing brought in.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded closed during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,,,M,,"Energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuOutsideDamperStuckClosed","rtu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.644Z
@p:demo:r:2de0dfb5-2f143d3c "AHU Group Cool and Heat","ahuGroupCoolAndHeat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Group Cool and Heat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"A group of AHUs have at least one unit in cooling mode at the same\nas another unit is in heating mode.  These units may be \"fighting\" each\nother to maintain temperature setpoints.\n\nRecommended Actions\n===================\nCheck control sequences.\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahuGroup",,,,,,,,,,,,,,,,M,,,,"/*\n  Find the intersection of periods where any one unit is\n  is in heating mode and another unit is in cooling mode.\n*/\ndefcomp\n\n  target:   {}\n  date:     {}\n  out:      {readonly}\n  coolCmds: {bindAll:\"cool and cmd and stage==1 and equipRef->equipRef=={{target->id}}\"}\n  heatCmds: {bindAll:\"heat and cmd and stage==1 and equipRef->equipRef=={{target->id}}\"}\n\n  do\n    // get periods when any AHU in group is cooling\n    cool: coolCmds\n            .toRecList\n            .map(pt => hisRead(pt, date).hisFindPeriods(v=>v))\n            .hisPeriodUnion\n\n    // get periods any any AHU in group is heating\n    heat: heatCmds\n            .toRecList\n            .map(pt => hisRead(pt, date).hisFindPeriods(v=>v))\n            .hisPeriodUnion\n\n    // compute intersection\n    faults: hisPeriodIntersection([cool, heat])\n\n    // add costing/priority to the spark as additional tags\n    out = faults.addMeta({spark_priority: \"med\"})\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.504Z
@p:demo:r:2de0dfb5-a225b2f0 "Short Pump RTU-1 Heat-1",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1376,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::HeatCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.638Z
@p:demo:r:2de0dfb5-1c294c09 "Headquarters Floor-2 Lights ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Floor-2 Lights ",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-3afe603c "Headquarters Floor-2",,,,@ph::Luminaire,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.566Z
@p:demo:r:2de0dfb5-4effb8f6 "Short Pump RTU-1 DischargePressure",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",0inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::DischargeAirPressureSensor,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.643Z
@p:demo:r:2de0dfb5-492402e2 "kW Norm (kW/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW Norm (kW/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kW demand min and max range normalized by ft² and degree day.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwNorm","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.653Z
@p:demo:r:2de0dfb5-242c4b66 "ZoneTemp Δ Sp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Δ Sp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Average delta of zone temp versus its configured setpoint.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiZoneTempDeltaSp","rtu or vav",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.657Z
@p:demo:r:2de0dfb5-f558fa11 "Spark Report",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Spark Report",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"page\"}\nspan: {var kind:\"Span\" input defVal:Span(\"lastWeek\")}\nsparksChart: Trio:\n  view: {inherit:\"chart\"}\n  title: {var defVal:\"Spark Timeline\"}\n  span: {var kind:\"Span\" binding:\"../span\"}\n  data: {expr:\"ruleSparks(null, {{span}}).ruleSparkHis\"}\nbreak1: Trio:\n  view: {inherit:\"pageBreak\"}\nsparksTable: Trio:\n  view: {inherit:\"table\"}\n  title: {var defVal:\"Sparks\"}\n  span: {var kind:\"Span\" binding:\"../span\"}\n  data: {expr:\"ruleSparks(null, {{span}}).keepCols([\\\"date\\\", \\\"dur\\\", \\\"targetRef\\\", \\\"ruleRef\\\", \\\"times\\\"])\"}\nbreak2: Trio:\n  view: {inherit:\"pageBreak\"}\nruleHelp: Trio:\n  view: {inherit:\"fandoc\"}\n  title: {var defVal:\"Rule Documentation\"}\n  span: {var kind:\"Span\" binding:\"../span\"}\n  data: {expr:\"ruleSparks(null, {{span}}).sparkRuleHelp\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoSparkReport",,,,,,,,,,,,,2024-05-22T16:54:13.723Z
@p:demo:r:2de0dfb5-0bf15407 "convertToMetric","convertToMetric",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n\n This function is used to convert the demo database from US cities\n and imperial units to British cities and the metric system.  You\n may customize the cities and changes in the tables below.\n\n This function should be spawned as a task.  From the Tools|Shell view\n run this expression:\n\n   taskRun( convertToMetric() )\n\n*/\n() => do\n\n  ////////////////////////////////////////////////////////////////////\n  // constants\n  ////////////////////////////////////////////////////////////////////\n\n  newCurrency: \"£\"\n  newTimeZone: \"London\"\n  logCat: \"convertToMetric\"\n\n  ////////////////////////////////////////////////////////////////////\n  // region rec changes keyed by display name\n  ////////////////////////////////////////////////////////////////////\n\n  regionChanges: {\n    \"Richmond\": { dis: \"London\" },\n    \"Washington DC\": { dis: \"Manchester\" },\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // weather rec changes keyed by display name\n  ////////////////////////////////////////////////////////////////////\n\n  weatherChanges: {\n    \"Richmond, VA\":\n    {\n      dis: \"London\",\n      geoCoord: coord(51.517,-0.106),\n      geoCity: \"London\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState,\n    },\n\n    \"Washington, DC\":\n    {\n      dis: \"Manchester\",\n      geoCoord: coord(53.483,-2.25),\n      geoCity: \"Manchester\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState,\n    },\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // site rec changes keyed by display name\n  ////////////////////////////////////////////////////////////////////\n\n  siteChanges: {\n    \"Headquarters\": {\n      dis: \"Headquarters\",\n      geoAddr: \"46 Westferry Circus, Canary Wharf, London, E14 8RS\",\n      geoCoord: coord(51.506699,-0.02802),\n      geoStreet: \"46 Westferry Circus\",\n      geoPostalCode: \"E14 8RS\",\n      geoCity: \"London\",\n      geoCountry: \"GB\",\n      tz: \"London\",\n      -geoState, -metro,\n    },\n\n    \"Carytown\": {\n      dis: \"Richmond\",\n      geoAddr: \"29 George St Richmond, Greater London TW9 1HY\",\n      geoCoord: coord(51.460784,-0.304304),\n      geoStreet: \"29 George St\",\n      geoPostalCode: \"TW9 1HY\",\n      geoCity: \"Richmond\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState, -metro,\n    },\n\n    \"Short Pump\": {\n      dis: \"Enfield\",\n      geoAddr: \"70 Lancaster Road Gordon Hill, Enfield EN2 0BX\",\n      geoCoord: coord(51.663672,-0.079569),\n      geoStreet: \"70 Lancaster Rd\",\n      geoPostalCode: \"EN2 0BX\",\n      geoCity: \"Enfield\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState, -metro,\n    },\n\n    \"Gaithersburg\": {\n      dis: \"Manchester\",\n      geoAddr: \"401 Great Western St Manchester M14 4AH\",\n      geoCoord: coord(53.456852,-2.227029),\n      geoStreet: \"401 Great Western St\",\n      geoPostalCode: \"M14 4AH\",\n      geoCity: \"Manchester\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState, -metro,\n    },\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // utility to commit diff\n  ////////////////////////////////////////////////////////////////////\n\n  commitChanges: (what, rec, changes) => do\n    logInfo(logCat, \"Change \" + what + \": \" + rec.dis + \" => \" + changes.dis)\n    diff(rec, changes).commit\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // utility to convert units of history\n  ////////////////////////////////////////////////////////////////////\n\n  convertUnit: (rec, newUnit) => do\n    oldUnit: rec->unit\n    logInfo(logCat, \"Change unit \" + oldUnit + \" => \" + newUnit + \": \" + rec.dis)\n    hisRewrite(rec) (val, ts) => [ts, val.to(newUnit)]\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // utility to convert timezones\n  ////////////////////////////////////////////////////////////////////\n\n  convertTimeZone: (rec) => do\n    logInfo(logCat, \"Change tz \" + rec[\"tz\"] + \" => \" + newTimeZone + \": \" + rec.dis)\n    if (rec.has(\"hisFunc\"))\n      diff(rec, {tz: newTimeZone}).commit\n    else\n      hisRewrite(rec) (val, ts) => [dateTime(ts.date, ts.time, newTimeZone), val]\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // main\n  ////////////////////////////////////////////////////////////////////\n\n  // lets get this party started\n  logInfo(logCat, \"Begin conversion...\")\n\n  // modify regions\n  readAll(region).each rec  => do\n    changes: regionChanges[rec->dis]\n    if (changes == null) return logWarn(logCat, \"Region not mapped: \" + rec.dis)\n    commitChanges(\"region\", rec, changes)\n  end\n\n  // modify weather\n  readAll(weatherStation).each rec  => do\n    changes: weatherChanges[rec->dis]\n    if (changes == null) return logWarn(logCat, \"Weather not mapped: \" + rec.dis)\n    commitChanges(\"weatherStation\", rec, changes)\n  end\n\n  // modify sites\n  readAll(site).each rec => do\n    changes: siteChanges[rec->dis]\n    if (changes == null) return logWarn(logCat, \"Site not mapped: \" + rec.dis)\n    changes = changes.set(\"area\", rec->area.to(1m²))\n    commitChanges(\"site\", rec, changes)\n  end\n\n  // change units\n  readAll(unit==\"°F\").each rec => convertUnit(rec, \"°C\")\n  readAll(unit==\"inH₂O\").each rec => convertUnit(rec, \"kPa\")\n  readAll(unit==\"gal\").each rec => convertUnit(rec, \"m³\")\n  readAll(unit==\"\\\$\").each rec => diff(rec, {unit:newCurrency}).commit\n  readAll(costPerHour).each rec => diff(rec, {costPerHour:rec->costPerHour.as(newCurrency)}).commit\n\n  // change timezone of all points\n  readAll(his and tz==\"New_York\").each rec => convertTimeZone(rec)\n\n  // change dis tags of KPIs\n  try do\n    read(dis==\"kW Norm (kW/ft²/°daysF)\").diff({dis:\"kW Norm (kW/m²/°daysC)\"}).commit\n    read(dis==\"kWh Norm (kWh/ft²/°daysF)\").diff({dis:\"kWh Norm (kWh/m²/°daysC)\"}).commit\n    read(dis==\"kWh Δ Prev Year (kWh/°daysF)\").diff({dis:\"kWh Δ Prev Year (kWh/°daysC)\"}).commit\n  catch\n    logWarn(logCat, \"KPIs not found\")\n\n  // fix kpiSparkCost unit\n  try do\n    newSrc: \"(site, dates) => do\\n\" +\n    \"  sparks: navFilter(\\\"sparkTarget\\\", site).sparks(dates)\\n\" +\n    \"  cost: if (sparks.missing(\\\"cost\\\")) 0\" + newCurrency + \" else sparks.foldCol(\\\"cost\\\", sum)\\n\" +\n    \"  if (na() == cost) null else {sum: cost}\\n\" +\n    \"end\"\n\n    read(name==\"kpiSparkCost\").diff({src: newSrc}).commit\n  catch\n    logWarn(logCat, \"Failed to fix kpiSparkCost\")\n\n  // recompute rules\n  logInfo(logCat, \"Recompute rules\")\n  ruleRosterRefresh()\n  ruleDelete(null, null, null)\n\n  // all done!\n  logInfo(logCat, \"Conversion complete!\")\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.521Z
@p:demo:r:2de0dfb5-fb5fadab "Headquarters ElecMeter-Lighting kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",1111.4kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.552Z
@p:demo:r:2de0dfb5-8ace409c "Headquarters VAV-1A Flow",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",96cfm,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,M,"Number",,,,,,,,,,,,"Flow",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::InletAirFlowSensor,,,,,,,,,,,,,,,,,,,"New_York",,"cfm",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.583Z
@p:demo:r:2de0dfb5-55576fae "Gaithersburg RTU-2 Cool-1",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:15:00-04:00 New_York,,,,"cov",,1566,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::CoolCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.695Z
@p:demo:r:2de0dfb5-25840a4f "Short Pump RTU-1 Cool-1",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T20:30:00-04:00 New_York,,,,"cov",,1466,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::CoolCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.636Z
@p:demo:r:2de0dfb5-9c08b6a1 "AHU Cool-Heat Mode Cycling",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool-Heat Mode Cycling",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU is cycling between cooling and heating and not meeting\na min amount of time required between these two modes.",,,,,,,,,,,,,,M,,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolHeatCycling(_, _, 60min)","ahu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.647Z
@p:demo:r:2de0dfb5-3ae82787 "Gaithersburg Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::Equip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.657Z
@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"\$siteRef \$navName",,,,M,,,,M,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,,M,,,@p:demo:r:2de0dfb5-6e62bede "Short Pump  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,"RTU-1",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,M,,,,,,,,,,M,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph::Rtu,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.632Z
@p:demo:r:2de0dfb5-e9f68617 "ahuTempDiff","ahuTempDiff",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  Temperature differential between two points, return\n  history grid of 'point2 - point1'.\n*/\n(point1, point2, dates) => do\n  hisRead([point1, point2], dates).hisInterpolate.map row => do\n    {ts: row->ts, v0: row[\"v1\"] - row[\"v0\"] }\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.501Z
@p:demo:r:2de0dfb5-1fd976eb "Short Pump ElecMeter-Main kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",866.2kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.627Z
@p:demo:r:2de0dfb5-31256b7e "Headquarters WaterMeter-Main Consumption",,,,,,,,,,,,,,,,,,,,,,,M,"ok",91.4gal,,,,,,,,,,,"\$equipRef \$navName",,,M,,,,,,,,,,,,@p:demo:r:2de0dfb5-70b603ec "Headquarters WaterMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Consumption",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::DomesticWaterVolumeSensor,,,,,,,,,,,,,,,,,,,"New_York",,"gal",,,,,,,,,,M,M,,,,,,,,,,,2024-05-22T16:54:13.563Z
@p:demo:r:2de0dfb5-457e464d "demoCollage","demoCollage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(tile) => do\n\n  // Line plot\n  if (tile == 1) do\n    return readAll(kwSite).hisRead(yesterday)\n            .addMeta({title:\"Line\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Area plot\n  if (tile == 2) do\n    return read(kwSite).hisRead(yesterday)\n            .map(r=>{ts: r->ts, a: r->v0-30, b: r->v0+30, c: r->v0, })\n            .addColMeta(\"a\", {color:\"#2ecc71\", strokeWidth: 0, chartAreaMode:\"nextSeries\"})\n            .addColMeta(\"b\", {color:\"#3498db\", strokeWidth: 0})\n            .addColMeta(\"c\", {color:\"#3498db\", strokeWidth: 2})\n            .addMeta({title:\"Area\", chartType:\"line\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Scatter plot\n  if (tile == 3) do\n    return readAll(kwSite).hisRead(yesterday)\n             .hisRollup(max, 1hr)\n             .addMeta({title:\"Scatter\", chartType:\"scatter\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Bar plot\n  if (tile == 4) do\n    return readAll(kwSite).hisRead(yesterday)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.date))\n             .addMeta({title:\"Bar\", chartType:\"bar\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Stacked plot\n  if (tile == 5) do\n    return readAll(kwSite).hisRead(lastWeek)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.format(\"WWW\")))\n             .addMeta({title:\"Stacked Bar\", chartType:\"stackedBar\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Runtime plot\n  if (tile == 6) do\n    return readAll(occupied).hisRead(yesterday)\n             .addMeta({title:\"Runtime\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Donut plot\n  if (tile == 7) do\n    return readAll(kwSite).hisRead(yesterday)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.date))\n             .addMeta({title:\"Donut\", chartType:\"donut\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // HeatMap plot\n  if (tile == 8) do\n    return read(kwSite).hisRead(lastWeek)\n             .hisRollup(sum, 3hr)\n             .addMeta({title:\"HeatMap\", chartType:\"heatMap\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Table with gauge\n  if (tile == 9) do\n    return readAll(kwSite)\n             .sortDis\n             .map(r=>set(r, \"disMacro\", r->siteRef->dis))\n             .hisRead(yesterday)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.date))\n             .transpose\n             .addColMeta(\"dis\", {dis:\"Site\"})\n             .addColMeta(\"v0\", {dis:\"KW\", viz:\"gaugeCell\", colors:\"#2ecc71,#f1c40f,#e74c3c\"})\n  end\n\n  readAll(kwSite).hisRead(yesterday).addMeta({title:\"Tile \" + tile})\n\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.532Z
@p:demo:r:2de0dfb5-83b32bb9 "UI2 Nav Meta",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"UI2 Nav Meta",,,,,,,,,,,,,,,"/site/[floor]/equip/point",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.471Z
@p:demo:r:2de0dfb5-f228c4b3 "AHU Fan Short Cycling",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Short Cycling",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Point is cycling on/off more often than its min on/off times.",,,,,,,,,,,,,,M,,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"shortCycling(_, _, 30min, 30min)","discharge and fan and equipRef->rtu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.646Z
@p:demo:r:2de0dfb5-6e8d3c4b "HQ Schedule",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1e881312 "Main Calendar",,,,,,,,M,"ok",T,,,,,,,,,,"HQ Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Bool",,,,,,,,,,,,,,2024-05-22T18:00:00-04:00 New_York,F,,,,,,,,,M,,,,,,,,,,,,,,,,M,<<
ver:"3.0"
calendar,dis,end,start,val,weekdays
"Holiday","Holiday",00:00:00,00:00:00,F,
,"Normal Office Hours",18:00:00,08:00:00,T,"mon,tue,wed,thu,fri"
,"Unoccupied Default",00:00:00,00:00:00,F,"sun,mon,tue,wed,thu,fri,sat"

>>,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.73Z
@p:demo:r:2de0dfb5-e50208d7 "Headquarters VAV-1A FlowSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",50cfm,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,M,"Number",,,,,,,,,,,,"FlowSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",M,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::InletAirFlowSp,,,,,,,,,,,,,,,,,,,"New_York",,"cfm",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.582Z
@p:demo:r:2de0dfb5-1c27f3cf "Headquarters VAV-1B Flow",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",52.5cfm,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,M,"Number",,,,,,,,,,,,"Flow",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::InletAirFlowSensor,,,,,,,,,,,,,,,,,,,"New_York",,"cfm",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.594Z
@p:demo:r:2de0dfb5-9c55a337 "Washington, DC Humidity",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",60%RH,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:00:00-04:00 New_York,,,,,,4782,2023-01-01T02:00:00-05:00 New_York,,,,M,,,,,"Number",,,,,,,,,,,,"Humidity",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherHumidityPoint,,,,,,,,,,,,,,,,,,,"New_York",,"%RH",,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-36cf83e0 "Washington, DC","humidity",,,,2024-05-22T16:54:13.71Z
@p:demo:r:2de0dfb5-f86cea95 "Tenant Form",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Tenant Form",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view:   {inherit:\"form\"}\nsubmit: {action:\"recFormCommit\"}\ndata:   {expr: \"read(demoTenant, false).recForm(\\\"demoTenant\\\")\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoTenantForm",,,,,,,,,,,,,2024-05-22T16:54:13.726Z
@p:demo:r:2de0dfb5-954f1850 "kWh Norm (kWh/ft²/°daysF)","kpiKwhNorm",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Norm (kWh/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kWh consumption normalized by ft² and degree day.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  kwh:    {bind:\"energy and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kwh == null) return null\n\n    his: hisRead(kwh, date).hisClip.energyNormByArea.energyNormByDegreeDay\n\n    if (his.isEmpty or\n        his.meta[\"hisEnd\"] < kwh[\"hisStart\"] or\n        his.missing(\"v0\")) return null\n\n    kpiSum: his.foldCol(\"v0\", sum)\n    out = if (na() == kpiSum) null else {sum: kpiSum.as(1)}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.512Z
@p:demo:r:2de0dfb5-bf00fcde "Short Pump RTU-1 Heat-2",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1846,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::HeatCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.639Z
@p:demo:r:2de0dfb5-de490ef1 "equipToPoints","equipToPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n This function overrides standard 'site::equipToPoints' function\n and illustrates how you can customize the points displayed by\n by apps such as the SiteApp.  We demo two techniques in this\n example.  First we include every \"site-wide\" point with the 'sitePoint'\n tag.  Secondly for nested equips, we look for the 'summary' tag\n to show select points in the parent equip.\n*/\n(equip) => do\n   readAll(point and\n     ((equipRef==equip->id) or                     // direct points\n     (sitePoint and siteRef==equip->siteRef) or    // site-wide points\n     (equipRef->equipRef==equip->id and summary))) // summary points of nested equip\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.496Z
@p:demo:r:2de0dfb5-df425acc "Short Pump RTU-2 Heat-2",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1496,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::HeatCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.651Z
@p:demo:r:2de0dfb5-2a944909 "p:demo:r:2de0dfb5-2a944909",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"conn",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.49Z
@p:demo:r:2de0dfb5-3f5f2511 "Short Pump RTU-2 Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T21:15:00-04:00 New_York,,,,"cov",,1796,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::DischargeFanRunCmd,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.654Z
@p:demo:r:2de0dfb5-8bb8c26e "Gaithersburg Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-05db4714 "Gaithersburg ElecMeter-Lighting",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Main Lights",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::Luminaire,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.674Z
@p:demo:r:2de0dfb5-e5fb6765 "kW Norm (kW/ft²/°daysF)","kpiKwNorm",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW Norm (kW/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kW demand min and max range normalized by ft² and degree day.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  kw:     {bind:\"power and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kw == null) return null\n\n    his: hisRead(kw, date).hisClip.energyNormByArea.energyNormByDegreeDay\n\n    if (his.isEmpty or\n        his.meta[\"hisEnd\"] < kw[\"hisStart\"] or\n        his.missing(\"v0\")) return null\n\n    kpi: {min: his.foldCol(\"v0\", min),\n          max: his.foldCol(\"v0\", max)}\n\n    out = if (kpi.any v => na() == v ) null else kpi.map v => v.as(1)\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.51Z
@p:demo:r:2de0dfb5-5322470b "Gaithersburg Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-05db4714 "Gaithersburg ElecMeter-Lighting",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Parking Lights",,,,,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::Luminaire,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.676Z
@p:demo:r:2de0dfb5-2a90ec5b "importExample","importExample",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This function provides a complete example for importing site, equip,\n  and point records from two CSV files included with the demo database.\n  It illustrates several techniques:\n    - importing data from CSV\n    - deriving equip recs from point lists\n    - mapping regular expression naming conventions to tags\n\n  This script is organized into several sub-functions such as \"mapSites\"\n  and \"mapEquips\".  The main routine of the script is defined at the\n  bottom of the script.\n\n  Also see the importPoints() function for a simpler example.\n*/\n() => do\n\n  // import files we will use\n  sitesFile: `io/import-sites.csv`\n  pointsFile: `io/import-points.csv`\n\n  // map equip name regex to tags; if a tag value is a\n  // function, it is called with result of reGroups\n  equipNameToTags: {\n    r\"ElecMeter\":  {ac, elec, meter, siteMeter},\n    r\"RTU-(\\d+)\":  {ahu, rtu},\n  }\n\n  // map point name regex to tags; if a tag value is a\n  // function, it is called with result of reGroups\n  pointNameToTags: {\n    r\"Demand\":           {power, sensor},\n    r\"Consumption\":      {energy, sensor},\n    r\"SupplyFan\":        {discharge, air, fan, cmd},\n    r\"DischargeAirTemp\": {discharge, air, temp, sensor},\n    r\"ReturnAirTemp\":    {\"return\", air, temp, sensor},\n    r\"Cool-(\\d+)\":       {cool, stage:(groups)=>groups[1].parseNumber, cmd},\n    r\"Heat-(\\d+)\":       {heat, stage:(groups)=>groups[1].parseNumber, cmd},\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // Add Rec\n  ////////////////////////////////////////////////////////////////////\n\n  // function used to add our new records\n  addRec: (msg, tags) => do\n\n    // log an info message\n    logInfo(\"import\", msg)\n\n    // filter out any null or empty string tags\n    tags = tags.findAll x => x != null and x != \"\"\n\n    // adds temporary \"imported\" marker to all import so we can\n    // easily test and then nuke to trash to re-run\n    tags = tags.set(\"imported\", marker())\n\n    // add as new record to the database\n    commit(diff(null, tags, {add}))\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Sites\n  ////////////////////////////////////////////////////////////////////\n\n  // function to map sites CSV to parsed tags\n  mapSites: () => do\n    ioReadCsv(sitesFile).map row => do\n\n      // get geo tags from CSV\n      street: row->street\n      city:   row->city\n      state:  row->state\n\n      // use geoTz function to map city/state to timezone\n      tz: geoTz({geoCity:city, geoState:state})\n\n      // map string cells to typed tags\n      tags: {\n        dis:           row->dis,\n        storeNum:      row->storeNum.parseNumber,\n        area:          row->area.parseNumber.as(1ft²),\n        geoAddr:       street + \",\" + city + \",\" + state,\n        geoCity:       city,\n        geoState:      state,\n        tz:            tz,\n        occupiedStart: row->occStart.parseTime(\"h:mm\"),\n        occupiedEnd:   row->occEnd.parseTime(\"h:mm\"),\n        weatherStationRef: read(weatherStation and dis == row->weather)->id,\n        site,\n      }\n    end\n  end\n\n  // function to import the sites\n  importSites: () => do\n    mapSites().each row => addRec(\"Add site: \" + row->dis, row)\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Equips\n  ////////////////////////////////////////////////////////////////////\n\n  // function to map point list to equip records\n  mapEquips: () => do\n    // since multiple points might map to one piece of equip,\n    // we create an accumulator map of dis-to-record\n    acc: {}\n\n    ioReadCsv(pointsFile).each row => do\n\n      // parse equip name from path column\n      equipName: pathToEquipName(row->path)\n\n      // associate with site via storeNum\n      site: read(site and storeNum==row->storeNum.parseNumber)\n\n      // map string cells to typed tags\n      tags: {\n        disMacro: r\"\$siteRef \$navName\",\n        navName:  equipName,\n        siteRef:  site->id,\n        equip,\n      }\n\n      // check if equip name matches one of our regular expressions\n      tags = applyTagsByRegex(equipNameToTags, equipName, tags)\n\n      acc = acc.set(tags.dis, tags)\n    end\n\n    return acc.vals\n  end\n\n  // function to import the equips\n  importEquips: () => do\n    mapEquips().each row => addRec(\"Add equip: \" + row.dis, row)\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Points\n  ////////////////////////////////////////////////////////////////////\n\n  // function to map point list to point records\n  mapPoints: () => do\n    ioReadCsv(pointsFile).map row => do\n\n      // parse point name from path column\n      equipName: pathToEquipName(row->path)\n      pointName: pathToPointName(row->path)\n\n      // associate with site via storeNum\n      site: read(site and storeNum==row->storeNum.parseNumber)\n\n      // associate with equip via dis\n      equip: read(equip and siteRef == site->id and navName == equipName)\n\n      // map string cells to typed tags\n      tags: {\n        disMacro: r\"\$equipRef \$navName\",\n        navName:  pointName,\n        siteRef:  site->id,\n        equipRef: equip->id,\n        kind:     row->kind,\n        tz:       site->tz,\n        point,\n        his,\n      }\n\n      // if kind is Number, we must have unit column\n      if (tags->kind == \"Number\")\n        tags = tags.set(\"unit\", parseUnit(row->unit))\n\n      // check if point name matches one of our regular expressions\n      tags = applyTagsByRegex(pointNameToTags, pointName, tags)\n    end\n  end\n\n  // function to import the points\n  importPoints: () => do\n    mapPoints().each row => addRec(\"Add point: \" + row.dis, row)\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Utils\n  ////////////////////////////////////////////////////////////////////\n\n  // parse path as \"{equipName}/{pointName}\"\n  pathToEquipName: (path) => path.split(\"/\")[0]\n\n  // parse path as \"{equipName}/{pointName}\"\n  pathToPointName: (path) => path.split(\"/\")[1]\n\n  // given equip/point name, try to find match by prefix\n  // and if found, then apply given tags\n  applyTagsByRegex: (mapping, name, tags) => do\n\n    // check for every match in mapping dict of regex:tags\n    mapping.each((tagsToAdd,regex) => do\n\n      // we had a match, walk thru each tagToAdd and add it\n      // to tags; if the tag value is a function then call\n      // the function with reGroups\n      if (regex.reMatches(name)) do\n        tagsToAdd.each((v, n) => do\n          if (v.isFunc()) v = v(reGroups(regex, name))\n          tags = tags.set(n, v)\n        end)\n      end\n    end)\n\n    // return potentially updated tags\n    return tags\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Main\n  ////////////////////////////////////////////////////////////////////\n\n  importSites()        // map sites CSV and add site recs\n  importEquips()       // map points CSV and add equip recs\n  importPoints()       // map points CSV and add points recs\n  readAll(imported)    // return everything we added\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.518Z
@p:demo:r:2de0dfb5-1297f0e1 "AHU Group Cool and Heat",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Group Cool and Heat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"A group of AHUs have at least one unit in cooling mode at the same\nas another unit is in heating mode.  These units may be \"fighting\" each\nother to maintain temperature setpoints.\n\nRecommended Actions\n===================\nCheck control sequences.\n\n**Priority:** Medium",,,,,,,,,,,,,,,,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuGroupCoolAndHeat","ahuGroup",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.651Z
@p:demo:r:2de0dfb5-f208f8da "Short Pump Misc Occupancy",,,,,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,"unocc,occ",,,,@p:demo:r:2de0dfb5-2d4d5c0b "Short Pump Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T21:15:00-04:00 New_York,,,,"cov",,1794,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Occupancy",,,,,M,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-583d9570 "Short Pump",M,,,,,,@ph.points::OccupiedSp,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.624Z
@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,M,,,M,,,,,,,,,,,,,,,,"VAV-1B",,,,,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,M,M,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph::Vav,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.59Z
@p:demo:r:2de0dfb5-aa6d1b34 "p:demo:r:2de0dfb5-aa6d1b34",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"math",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.477Z
@p:demo:r:2de0dfb5-36e623a6 "Short Pump RTU-1 ReturnTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",68.5°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,M,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::ReturnAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.64Z
@p:demo:r:2de0dfb5-e45b7655 "p:demo:r:2de0dfb5-e45b7655",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"weather",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.489Z
@p:demo:r:2de0dfb5-d479aefd "Headquarters VAV-1A Damper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",97.2%,,,,,M,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Damper",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.586Z
@p:demo:r:2de0dfb5-3453244d "ZoneTemp Δ Sp","kpiZoneTempDeltaSp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Δ Sp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Average delta of zone temp versus its configured setpoint.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"rtu or vav",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  sensor: {bind:\"zone and temp and sensor and equipRef=={{target->id}}\"}\n  sp:     {bind:\"zone and temp and sp and equipRef=={{target->id}}\"}\n  do\n    // bail if we are missing points\n    if (sensor == null or sp == null) return null\n\n    // get interpolated difference between sensor - sp for samples\n    deltas: hisRead([sensor, sp], date)\n             .hisInterpolate\n             .hisClip\n             .map(r => r.set(\"delta\", r[\"v0\"] - r[\"v1\"]))\n\n    // return avg delta\n    kpiDelta: deltas.foldCol(\"delta\", avg)\n    out = if (na() == kpiDelta) null else {delta: kpiDelta}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.515Z
@p:demo:r:2de0dfb5-a2fdeb2e "ZoneTemp Occ Avg","kpiZoneTempOccAvg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Occ Avg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Average zone temp during occupancy",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"rtu or vav",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  sensor: {bind:\"zone and temp and sensor and equipRef=={{target->id}}\"}\n  occ:    {bind:\"occupied and sp and siteRef=={{target->siteRef}}\"}\n  do\n    // bail if missing points\n    if (sensor == null or occ == null) return null\n\n    // get occupancy schedule\n    occupied: hisRead(occ, date).hisFindPeriods(v => v)\n\n    // get temps within occupancy\n    temps: hisRead(sensor, date).hisClip.hisFindInPeriods(occupied)\n\n    // return avg\n    out = {avg: temps.foldCol(\"v0\", avg)}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.516Z
@p:demo:r:2de0dfb5-ccbc632f "Headquarters VAV-1A ZoneHumidity",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",93%RH,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,M,,,,,"Number",,,,,,,,,,,,"ZoneHumidity",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneAirHumiditySensor,,,,,,,,,,,,,,,,,,,"New_York",,"%RH",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.588Z
@p:demo:r:2de0dfb5-00c421d3 "Richmond, VA Humidity",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",55%RH,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:00:00-04:00 New_York,,,,,,4782,2023-01-01T02:00:00-05:00 New_York,,,,M,,,,,"Number",,,,,,,,,,,,"Humidity",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherHumidityPoint,,,,,,,,,,,,,,,,,,,"New_York",,"%RH",,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA","humidity",,,,2024-05-22T16:54:13.705Z
@p:demo:r:2de0dfb5-f8abac05 "Short Pump RTU-1 DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",78.9°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.641Z
@p:demo:r:2de0dfb5-82cfd6e6 "Headquarters ElecMeter-Hvac kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",998kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-a6d6549e "Headquarters ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.555Z
@p:demo:r:2de0dfb5-78bf1c59 "Headquarters VAV-1B Damper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",98.5%,,,,,M,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Damper",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.597Z
@p:demo:r:2de0dfb5-516247fe "Richmond, VA Condition",,,,,,,,,,,,,,,,,,,,,,,M,"ok","partlyCloudy",,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,"unknown,clear,partlyCloudy,cloudy,showers,rain,thunderstorms,ice,flurries,snow",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:00:00-04:00 New_York,,,,"cov",,4782,2023-01-01T02:00:00-05:00 New_York,,,,,,,,,"Str",,,,,,,,,,,,"Condition",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherCondPoint,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,M,,M,,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA","condition",,,,2024-05-22T16:54:13.706Z
@p:demo:r:2de0dfb5-e87a5b36 "Carytown ElecMeter-Main kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",877.4kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.606Z
@p:demo:r:2de0dfb5-27049f6a "Short Pump RTU-1 Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T21:15:00-04:00 New_York,,,,"cov",,1810,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::DischargeFanRunCmd,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.642Z
@p:demo:r:2de0dfb5-05cebf1a "Gaithersburg RTU-2 ZoneTempSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",M,,,,,,@ph.points::ZoneAirTempEffectiveSp,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.692Z
@p:demo:r:2de0dfb5-023ddcd8 "oldChartDemo","oldChartDemo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n\n  // get data items\n  numPt: read(power and siteMeter)\n  num2Pt: read(discharge and temp and sensor)\n  boolPt: read(fan and cmd and kind==\"Bool\")\n  xyData: ioReadZinc(`io/chart-data.zinc`)\n\n  // category data\n  categories:\n    [{dis: \"Alpha\", v0: 3%, v1:  4%,  v2: 9%},\n     {dis: \"Beta\",  v0: 2%, v1: 10%,  v2: 1%},\n     {dis: \"Gamma\", v0: 7%, v1:  8%,  v2: 3%},\n     {dis: \"Delta\", v0: 4%, v1:  3%,  v2: 4%},\n    ].toGrid\n\n  // datetime line chart\n  dtLineChart: () => do\n    pt: numPt.merge({chartType: \"line\"})\n    hisRead(pt, yesterday)\n  end\n\n  // datetime area chart\n  dtAreaChart: () => do\n    pt: numPt.merge({chartType: \"area\", color: \"#d73d40\"})\n    hisRead(pt, yesterday)\n  end\n\n  // datetime bar chart\n  dtBarChart: () => do\n    pt: numPt.merge({chartType: \"bar\", color: \"#9474d4\"})\n    hisRead(pt, lastMonth).hisRollup(max, 1day)\n  end\n\n  // datetime runtime chart\n  dtRuntimeChart: () => do\n    pt: boolPt.merge({chartType: \"runtime\", color: \"#30c525\"})\n    hisRead(pt, yesterday)\n  end\n\n  // datetime two y-axes chart\n  dt2YChart: () => do\n    pt1: numPt.merge({chartGroup:\"2y\", chartType: \"area\", color: \"#f87808\"})\n    pt2: num2Pt.merge({chartGroup:\"2y\", chartType: \"line\", color: \"#3d80df\"})\n    hisRead([pt1, pt2], yesterday)\n  end\n\n  // time line chart\n  timeLineChart: () => do\n    pt: numPt.merge({chartType: \"line\", color: \"#c123b0\"})\n    hisRead(pt, lastWeek).hisRollup(max, 1hr).hisDailyProfile(avg)\n  end\n\n  // x-y line chart\n  xyLineChart: () => do\n    xyData.addColMeta(\"y\", {chartType: \"line\"}).chart\n  end\n\n  // x-y area chart\n  xyAreaChart: () => do\n    xyData.addColMeta(\"y\", {chartType: \"area\", color: \"#d73d40\"}).chart\n  end\n\n  // x-y scatter chart\n  xyScatterChart: () => do\n    xyData.addColMeta(\"y\", {chartType: \"scatter\"}).chart\n  end\n\n  // category bar chart\n  catBarChart: () => do\n    categories\n      .addColMeta(\"v0\", {dis: \"Value 0\", chartType: \"bar\", chartGroup: \"catBar\"})\n      .addColMeta(\"v1\", {dis: \"Value 1\", chartType: \"bar\", chartGroup: \"catBar\"})\n      .addColMeta(\"v2\", {dis: \"Value 2\", chartType: \"bar\", chartGroup: \"catBar\"})\n      .chart\n  end\n\n  // category stacked bar chart\n  catStackedBarChart: () => do\n    categories\n      .addColMeta(\"v0\", {dis: \"Value 0\", chartType: \"stackedBar\", chartGroup: \"catStackBar\"})\n      .addColMeta(\"v1\", {dis: \"Value 1\", chartType: \"stackedBar\", chartGroup: \"catStackBar\"})\n      .addColMeta(\"v2\", {dis: \"Value 2\", chartType: \"stackedBar\", chartGroup: \"catStackBar\"})\n      .chart\n  end\n\n  // put it all together\n  [heading(\"DateTime Line Chart\"), dtLineChart(),\n   heading(\"DateTime Area Chart\"), dtAreaChart(),\n   heading(\"DateTime Bar Chart\"), dtBarChart(),\n   heading(\"DateTime Runtime Chart\"), dtRuntimeChart(),\n   heading(\"DateTime Two Y-Axes Chart\"), dt2YChart(),\n   heading(\"Time Line Chart\"), timeLineChart(),\n   heading(\"X-Y Line Chart\"), xyLineChart(),\n   heading(\"X-Y Area Chart\"), xyAreaChart(),\n   heading(\"X-Y Scatter Chart\"), xyScatterChart(),\n   heading(\"Category Bar Chart\"), catBarChart(),\n   heading(\"Category Stacked Bar Chart\"), catStackedBarChart(),\n   ]\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.526Z
@p:demo:r:2de0dfb5-ae88948a "Headquarters VAV-1B DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",60.2°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.595Z
@p:demo:r:2de0dfb5-05db4714 "Gaithersburg ElecMeter-Lighting",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,M,,,,,,"ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::AcElecMeter,,,,,,,,,@p:demo:r:2de0dfb5-bef1123b "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.662Z
@p:demo:r:2de0dfb5-b15d6d08 "Gaithersburg Main Lights Status",,,,,,,,,,,,,,,,,M,,,,2.4$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-05db4714 "Gaithersburg ElecMeter-Lighting",,"off,on",,,,@p:demo:r:2de0dfb5-8bb8c26e "Gaithersburg Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T22:00:00-04:00 New_York,,,,"cov",,1794,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::RunCmd,,,,,M,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.675Z
@p:demo:r:2de0dfb5-195c1017 "Richmond, VA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Richmond, VA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Richmond",C(37.542979,-77.469092),"US",,"VA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,M,,,M,,,["temp","condition","humidity","sunrise"],,,2024-05-22T16:54:13.703Z
@p:demo:r:2de0dfb5-57a1ff1f "Demo",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:00Z,,,,,,,,,,,M,,"Demo",,,"Demo project",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.001388888888888889h,,,,,,,,,,,,,,,,,,,,,,"3.1.10",,,,,,,,,,,,,,,2024-05-22T16:54:13.459Z
@p:demo:r:2de0dfb5-7b30fe76 "Carytown RTU-1 ZoneTempSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",M,,,,,,@ph.points::ZoneAirTempEffectiveSp,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.611Z
@p:demo:r:2de0dfb5-c01368b3 "Carytown RTU-1 Heat-1",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1212,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::HeatCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.616Z
@p:demo:r:2de0dfb5-94dfc7a3 "AHU Fan Runtime","kpiAhuFanRuntime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Runtime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Total time the AHU fan was running",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date: {}\n  out: {readonly}\n  fan: {bind:\"discharge and air and fan and cmd and equipRef=={{target->id}}\"}\n  do\n    if (fan == null) return null\n    his: hisRead(fan, date).hisClip.hisFindPeriods(matchPointVal(_, true))\n    runtime: his.foldCol(\"v0\", sum)\n    if (runtime == null or runtime == na()) runtime = 0hr\n    out = {sum: runtime}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.514Z
@p:demo:r:2de0dfb5-4fa073e0 "Richmond, VA Sunrise",,,,,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,M,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:54:00-04:00 New_York,,,,,,1196,2023-01-01T07:25:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Sunrise",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherDaytimePoint,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA","sunrise",,,,2024-05-22T16:54:13.707Z
@p:demo:r:2de0dfb5-702839f8 "Gaithersburg RTU-1 DischargePressure",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",0inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::DischargeAirPressureSensor,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.69Z
@p:demo:r:2de0dfb5-26347e55 "p:demo:r:2de0dfb5-26347e55",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.494Z
@p:demo:r:2de0dfb5-7de2b434 "Short Pump RTU-2 Cool-1",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:00:00-04:00 New_York,,,,"cov",,1512,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::CoolCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.648Z
@p:demo:r:2de0dfb5-6a8e3ecb "Gaithersburg RTU-1 ZoneTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",76.3°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ZoneAirTempSensor,,,,,,,,,,,M,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.681Z
@p:demo:r:2de0dfb5-3aa788b1 "Lights On and Unoccupied","lightsOnAndUnoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Lights On and Unoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Lights are on and site is unoccupied.\n\nRecommended Actions\n===================\n1. Check that schedules are linked to lighting system in control system\n2. Check if lights have been left in override mode\n\n**Priority:** Low",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"lights and point",,,,,,,,,,,,,,,,M,,,,"/*\n  Lights are on and site is unoccupied.\n*/\ndefcomp\n\n  target:    {}\n  date:      {}\n  out:       {readonly}\n  occ:       {bind:\"occupied and sp and siteRef=={{target->siteRef}}\"}\n  threshold: {bindTuning:\"threshold\", defVal:2h}\n\n  do\n    // get periods when lights are on\n    on: hisRead(target, date).hisFindPeriods(v => true == v)\n\n    // get unoccupied periods\n    unoccupied: hisRead(occ, date).hisFindPeriods(v => (na() != v) and (not v))\n\n    // compute intersection and filter out periods under threshold\n    faults: hisPeriodIntersection([on, unoccupied]).hisFindAll(p => p != na() and p > threshold)\n\n    // compute total hours on during unoccupied times\n    totalDur: faults.foldCol(\"v0\", sum)\n\n    // lookup costPerHour const on lights rec\n    cost: target->costPerHour * totalDur.as(1)\n\n    // add costing/priority to the spark as additional tags\n    out = faults.addMeta({spark_cost: cost, spark_priority: \"low\"})\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.5Z
@p:demo:r:2de0dfb5-948569a6 "addEnumPoints","addEnumPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// add an ahuMode enum point to all AHUs\n() => do\n  readAll(ahu).each ahu => do\n\n    // tags for point\n    tags: {\n      disMacro: \"\\\$equipRef \\\$navName\",\n      navName: \"Mode\",\n      kind: \"Str\",\n      enum: \"off,heat,cool\",\n      point,\n      his,\n      sp,\n      ahuMode,\n      regionRef: ahu->regionRef,\n      siteRef: ahu->siteRef,\n      equipRef: ahu->id,\n      tz: ahu->siteRef->tz,\n    }\n    if (ahu.has(\"spaceRef\")) tags = tags.set(\"spaceRef\", ahu->spaceRef)\n\n    // add the point\n    pt: diff(null, tags, {add}).commit\n    logInfo(\"addEnumPoints\", \"Adding \" + pt.dis)\n\n    // populate the point's history\n    fan: read(fan and cmd and equipRef==ahu->id)\n    (fan->hisStart.date .. fan->hisEnd.date).eachDay d => do\n      items: []\n      cooling: ahuCoolPeriods(ahu, d)\n      heating: ahuHeatPeriods(ahu, d)\n      matrix: hisPeriodMatrix([cooling, heating])\n      matrix.each row => do\n        if (row->ts.date != d) return null\n        mode: \"off\"\n        if (row[\"v0\"] == true) mode = \"cool\"\n        else if (row[\"v1\"] == true) mode = \"heat\"\n        items = items.add({ts: row->ts, val: mode})\n      end\n      hisWrite(items, pt)\n    end\n\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.522Z
@p:demo:r:2de0dfb5-d2218eac "Lights On and Unoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Lights On and Unoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Lights are on and site is unoccupied.\n\nRecommended Actions\n===================\n1. Check that schedules are linked to lighting system in control system\n2. Check if lights have been left in override mode\n\n**Priority:** Low",,,,,,,,,,,,,,,,"Energy",,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"lightsOnAndUnoccupied","equipRef->luminaire and state and not parking",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.65Z
@p:demo:r:2de0dfb5-6b23e8cc "Gaithersburg RTU-1 ZoneTempSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",M,,,,,,@ph.points::ZoneAirTempEffectiveSp,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.68Z
@p:demo:r:2de0dfb5-dff75d66 "Headquarters AHU-1 Cool",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",79.2%,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,67130,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Cool",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::NumberPoint,,,,,,,,,,,M,,,,,,,,"New_York",,"%",,,M,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.572Z
@p:demo:r:2de0dfb5-26691996 "AHU Outside Damper Stuck Closed","ahuOutsideDamperStuckClosed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Closed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Damper should be open, but temp differential between mixed air\nsensor and outisde air sensor indicates that outside air is not\nbeing brought in.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded closed during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"rtu",,,,,,,,,,,,,,,,M,,,,"/*\n  Damper should be open, but temp differential between mixed air\n  sensor and outisde air sensor indicates that outside air is not\n  being brought in.  If mixed sensor is available we use discharge\n  sensor but only when unit is not cooling nor heating.\n */\ndefcomp\n\n  target:        {}\n  date:          {}\n  out:           {readonly}\n  fan:           {bind:\"fan and cmd and equipRef=={{target->id}}\"}\n  damper:        {bind:\"damper and cmd and equipRef=={{target->id}}\"}\n  dischargeTemp: {bind:\"discharge and air and temp and sensor and equipRef=={{target->id}}\"}\n  mixedTemp:     {bind:\"mixed and air and temp and sensor and equipRef=={{target->id}}\"}\n  tolerance:     {bindTuning:\"tolerance\", defVal:8Δ°F}\n\n  do\n    // convert tolerance to metric if neccessary\n    if (isMetric(dischargeTemp)) tolerance = tolerance.to(1Δ°C)\n\n    // lookup outsideTemp, fallback to weather station\n    outsideTemp: toAhuOutsideTemp(target)\n\n    // get our periods\n    fanOn: hisRead(fan, date).hisFindPeriods(matchPointVal(_, true))\n    damperOpen: hisRead(damper, date).hisFindPeriods(matchPointVal(_, 70..100))\n\n    // if we have mixed air sensor find periods outside of our\n    // tolerance range; otherwise use difference between outside\n    // and discharge but only when heating and cooling is off\n    match: diff => diff != na() and diff.abs < tolerance\n    if (mixedTemp != null) do\n      tempPeriods: ahuTempDiff(outsideTemp, mixedTemp, date).hisFindPeriods(match)\n    else do\n      tempPeriods: hisPeriodIntersection([\n        ahuTempDiff(outsideTemp, dischargeTemp, date).hisFindPeriods(match),\n        ahuCoolPeriods(target, date, false),\n        ahuHeatPeriods(target, date, false)])\n    end\n\n    // compute intersection of periods\n    out = hisPeriodIntersection([fanOn, damperOpen, tempPeriods])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.498Z
@p:demo:r:2de0dfb5-c9664db5 "demoTablePrez","demoTablePrez",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  // build simple grid\n  g: [\n   {dis:\"Alpha\", a:7,  b:7,  c:\"background\", d:\"col sel\", e:\"\"},\n   {dis:\"Beta\",  a:10, b:10, c:\"bold\",       d:\"col sel\", e:\"\"},\n   {dis:\"Gamma\", a:5,  b:5,  c:\"right\",      d:\"col sel\", e:\"\"}\n  ].toGrid\n   .reorderCols([\"dis\", \"a\", \"b\", \"c\", \"d\", \"e\"])\n\n  // customize with column meta\n  g = g.addColMeta(\"a\", {dis:\"Bar Cell\", viz:\"barCell\", color:\"#e74c3c\"})\n       .addColMeta(\"b\", {dis:\"Bubble Cell\", viz:\"bubbleCell\", color:\"#2ecc71\"})\n\n  // customize with presentation grid using row/col/cell selectors\n  prez: [\n    {col:\"c\", row:0, background:\"#f1c40f\"},\n    {col:\"c\", row:1, fontWeight:\"bold\"},\n    {col:\"c\", row:2, halign:\"right\"},\n    {col:\"d\", background:\"#99ffa8\"},\n  ].toGrid\n\n  // add presentation to grid meta with \"presentation\" tag\n  g.addMeta({presentation: prez})\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.537Z
@p:demo:r:2de0dfb5-16fa898c "Washington, DC Sunrise",,,,,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,M,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:54:00-04:00 New_York,,,,,,1196,2023-01-01T07:27:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Sunrise",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherDaytimePoint,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-36cf83e0 "Washington, DC","sunrise",,,,2024-05-22T16:54:13.712Z
@p:demo:r:2de0dfb5-09ed7429 "Gaithersburg GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,M,,"GasMeter-Main",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.equips::NaturalGasMeter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.672Z
@p:demo:r:2de0dfb5-1e881312 "Main Calendar",,,,,,,,,,,,,M,<<
ver:"3.0"
date,dateRule,dis,val
"*-01-01",,"New Years","Holiday"
,"4th thu in nov","Thanksgiving","Holiday"
"*-12-24",,"Christmas Eve","Holiday"
"*-12-25",,"Christmas","Holiday"
,"last mon in may","Memorial Day","Holiday"
,"1st mon in sep","Labor Day","Holiday"
"*-07-04",,"July 4th","Holiday"

>>,,,,,,,,,M,"ok",,,,,,,,,,,"Main Calendar",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Str",,,,,,,,,,,,,,2024-05-27T00:00:00-04:00 New_York,"Holiday",,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.729Z
@p:demo:r:2de0dfb5-1fef7720 "Gaithersburg RTU-1 Cool-2",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T17:45:00-04:00 New_York,,,,"cov",,2204,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::CoolCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.684Z
@p:demo:r:2de0dfb5-8177497f "kWh Norm (kWh/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Norm (kWh/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kWh consumption normalized by ft² and degree day.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwhNorm","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.655Z
@p:demo:r:2de0dfb5-6b113b70 "Carytown Main Lights Status",,,,,,,,,,,,,,,,,M,,,,2.4$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-83278239 "Carytown Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T20:45:00-04:00 New_York,,,,"cov",,1574,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::RunCmd,,,,,M,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.609Z
@p:demo:r:2de0dfc4-f8d12a2a "Washington, DC Forecast",,,,,,,,,,,,,,,,,,,,,,,,,,1,60%RH,80°F,12:54:02.778,,,,,,,"\$weatherStationRef Forecast",,,,,,,,,,,,,,,,,20:19:00,64°F,64°F,1,05:50:00,20:20:00,89°F,61°F,4,05:49:00,20:21:00,85°F,65°F,4,05:49:00,20:22:00,84°F,63°F,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T12:54:28.1-04:00 New_York,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-36cf83e0 "Washington, DC",,,,,2024-05-22T16:54:28.174Z
@p:demo:r:2de0dfb5-44d5207e "p:demo:r:2de0dfb5-44d5207e",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ph.points",,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.475Z
@p:demo:r:2de0dfb5-f1dfa36e "Carytown RTU-1 Heat-2",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1266,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::HeatCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.617Z
@p:demo:r:2de0dfb5-7d422f3d "Gaithersburg RTU-2 DischargePressure",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",0.1inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::DischargeAirPressureSensor,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.702Z
@p:demo:r:2de0dfb5-11e927b8 "Gaithersburg RTU-2 OutsideDamper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",7.2%,,,,,M,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"OutsideDamper",,,,,,,,,M,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::OutsideDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.694Z
@p:demo:r:2de0dfb5-71737678 "Gaithersburg RTU-1 Heat-1",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1564,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::HeatCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.685Z
@p:demo:r:2de0dfb5-592b0ba4 "Gaithersburg ElecMeter-Lighting kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",663.8kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-05db4714 "Gaithersburg ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.663Z
@p:demo:r:2de0dfb5-90895fb5 "Short Pump RTU-1 ZoneTempSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",M,,,,,,@ph.points::ZoneAirTempEffectiveSp,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.633Z
@p:demo:r:2de0dfb5-19509e83 "demoEquip","demoEquip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(equip, span, showWeather) => do\n\n  // encode span to Axon expr\n  spanExpr: span.toSpan.toAxonCode\n\n  // build up Axon mapping expr\n  expr:\n    \"(eq) => {\" +\n      \"rec: eq,\" +\n      \"ptHis: equipToPoints(eq).hisRead(\" + spanExpr + \").hisRollupAuto.addMeta({force}),\" +\n      \"weatherHis: toWeatherPoints(eq).hisRead(\" + spanExpr + \").addMeta({force})\" +\n      \"}\"\n\n  // execute xquery to read our equip and map it history data\n  r: xq().xqReadByIds(equip).xqMap(expr).xqExecute.first\n\n  // unpack xquery mapping\n  rec: r->rec\n  ptHis: r->ptHis\n  weatherHis: r->weatherHis\n\n  // put it all together\n  his: ptHis\n  if (showWeather) his = hisJoin([ptHis, weatherHis])\n  return his.addMeta({title:\"Equip History \\u2022 \" + rec.dis + \" \\u2022 \" + span.toSpan.format})\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.536Z
@p:demo:r:2de0dfb5-8a9bc6ee "Headquarters ElecMeter-Main kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",717.9kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-e43cbeaa "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.558Z
@p:demo:r:2de0dfb5-650d3bc7 "Gaithersburg RTU-2 Heat-1",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1542,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::HeatCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.697Z
@p:demo:r:2de0dfb5-eb765a6e "Gaithersburg RTU-2 Cool-2",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T17:30:00-04:00 New_York,,,,"cov",,2230,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::CoolCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.696Z
@p:demo:r:2de0dfb5-1bff556c "Gaithersburg RTU-1 ReturnTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",77.8°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,M,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ReturnAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.687Z
@p:demo:r:2de0dfb5-a0d71d22 "HVAC Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"HVAC Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,"ruleRef->hvac",,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.714Z
@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"\$siteRef \$navName",,,,M,,,,M,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,,M,,,@p:demo:r:2de0dfb5-2c5ceb92 "Gaithersburg  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,"RTU-1",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,M,,,,,,,,,,M,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::Rtu,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.679Z
@p:demo:r:2de0dfb5-6f36174d "Richmond, VA Temp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",83°F,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:00:00-04:00 New_York,,,,,,4782,2023-01-01T02:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Temp",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,@ph.points::WeatherTempPoint,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,M,,,,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA","temp",,,,2024-05-22T16:54:13.704Z
@p:demo:r:2de0dfb5-1059d1d1 "Tenants",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Tenants",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view:  {inherit:\"table\"}\nnew:   {action:\"recNew\"}\nedit:  {action:\"recEdit\"}\ntrash: {action:\"recTrash\"}\ndata:  {expr:\"readAll(demoTenant)\"}",,,,,,,,,,,,,"demoTenant",,,,,,,,,,,,,,,"demoTenants",,,,,,,,,,,,,2024-05-22T16:54:13.727Z
@p:demo:r:2de0dfb5-3a48a938 "Carytown RTU-1 DischargePressure",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",1.6inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::DischargeAirPressureSensor,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.621Z
@p:demo:r:2de0dfb5-3aa022e4 "AHU Outside Damper Stuck Open",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Open",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Damper should be closed, but temp differential between mixed air\nsensor and return air sensor indicates that significant outside\nair is being mixed.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded open during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,,,M,,"Energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuOutsideDamperStuckOpen","rtu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.643Z
@p:demo:r:2de0dfb5-83278239 "Carytown Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Main Lights",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph::Luminaire,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.608Z
@p:demo:r:2de0dfb5-65704d9a "Headquarters VAV-1B ZoneTempSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",M,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneAirTempEffectiveSp,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.591Z
@p:demo:r:2de0dfb5-95bf894c "p:demo:r:2de0dfb5-95bf894c",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.492Z
@p:demo:r:2de0dfb5-94dd3c30 "Carytown Misc Occupancy",,,,,,,,,,,,,,,,,,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,"unocc,occ",,,,@p:demo:r:2de0dfb5-f0499d71 "Carytown Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T20:15:00-04:00 New_York,,,,"cov",,1794,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Occupancy",,,,,M,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-7abc80bb "Carytown",M,,,,,,@ph.points::OccupiedSp,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.603Z
@p:demo:r:2de0dfb5-61e89b42 "Carytown RTU-1 DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",50.7°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.619Z
@p:demo:r:2de0dfb5-9427fbad "Short Pump ElecMeter-Main kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",699.9kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,M,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.626Z
@p:demo:r:2de0dfb5-d93c516f "importPoints","importPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This function provides a simple example to create point records\n  from a CSV file.  It takes the parent equip and a filter to use\n  for selecting rows from the CSV to import.\n\n  Also see the importExample() function for a more complete example.\n*/\n(equip, filter: null) => do\n\n  // if filter is not defined, default to store 8 and \"RTU-1\" points\n  if (filter == null)\n    filter = (row) => row[\"storeNum\"] == \"8\" and row[\"path\"].startsWith(\"RTU-1/\")\n\n  // read our CSV file and apply filter\n  importFile: `io/import-points.csv`\n  csv: ioReadCsv(importFile).findAll(filter)\n\n  // parse CSV rows into point dicts\n  points: csv.map row => do\n    { disMacro: r\"\$equipRef \$navName\",\n      navName:  row->path.split(\"/\").last,\n      siteRef:  equip->siteRef->id,\n      equipRef: equip->id,\n      kind:     row->kind,\n      tz:       equip->siteRef->tz,\n      unit:     row[\"unit\"],\n      point,\n      his\n    }\n  end\n\n  // map point names to additional semantic tags\n  pointNameToTags: {\n    \"SupplyFan\":        {fan, run, cmd},\n    \"DischargeAirTemp\": {discharge, air, temp, sensor},\n    \"ReturnAirTemp\":    {\"return\", air, temp, sensor},\n    \"Cool-1\":           {cool, stage:1, cmd},\n    \"Cool-2\":           {cool, stage:2, cmd},\n    \"Heat-1\":           {heat, stage:1, cmd},\n    \"Heat-2\":           {heat, stage:2, cmd},\n    \"Consumption\":      {energy, sensor},\n    \"Demand\":           {power, sensor},\n  }\n  points = points.map pt => merge(pt, pointNameToTags[pt->navName])\n\n  // commit to the database\n  points.map pt => diff(null, pt, {add}).commit\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.519Z
@p:demo:r:2de0dfb5-2714dd0b "Short Pump RTU-2 ZoneTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",79.9°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::ZoneAirTempSensor,,,,,,,,,,,M,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.646Z
@p:demo:r:2de0dfb5-35497b1e "Carytown RTU-1 Cool-2",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T20:15:00-04:00 New_York,,,,"cov",,1503,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::CoolCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.615Z
@p:demo:r:2de0dfb5-8c022bf3 "Gaithersburg RTU-2 DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",62.4°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.7Z
@p:demo:r:2de0dfb5-a94c2d3a "Headquarters GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,M,,"GasMeter-Main",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.equips::NaturalGasMeter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.56Z
@p:demo:r:2de0dfb5-b2eb0629 "Carytown ElecMeter-Main kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",796.1kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,M,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.605Z
@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,M,,,,,,"ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph::AcElecMeter,,,,,,,,,@p:demo:r:2de0dfb5-e43cbeaa "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.55Z
@p:demo:r:2de0dfb5-644fcde2 "p:demo:r:2de0dfb5-644fcde2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ph.equips",,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.474Z
@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,M,,,,,,"ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::AcElecMeter,,,,,,,,,@p:demo:r:2de0dfb5-bef1123b "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.665Z
@p:demo:r:2de0dfb5-5d92b068 "Gaithersburg RTU-1 Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T21:15:00-04:00 New_York,,,,"cov",,2192,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::DischargeFanRunCmd,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.689Z
@p:demo:r:2de0dfb5-492ec4ee "Collage",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Collage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,100,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"tile\"}\nlayout: {var kind:\"Str\" defVal:\"grid 3x3; 0 0 1 1; 1 0 1 1; 2 0 1 1; 0 1 1 1; 1 1 1 1; 2 1 1 1; 0 2 1 1; 1 2 1 1; 2 2 1 1\"}\nsubView1: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(1)\"}\nsubView2: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(2)\"}\nsubView3: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(3)\"}\nsubView4: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(4)\"}\nsubView5: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(5)\"}\nsubView6: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(6)\"}\nsubView7: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(7)\"}\nsubView8: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(8)\"}\nsubView9: Trio:\n  view: {inherit:\"table\"}\n  data: {expr:\"demoCollage(9)\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoCollage",,,,,,,,,,,,,2024-05-22T16:54:13.717Z
@p:demo:r:2de0dfb5-ba4d75e6 "AHU Fan Failure",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Fan is on but dischargePressure is below threshold of\n0.05kPa or 0.25inH₂O",,,,,,,,,,,,,,M,,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuFanFailure","ahu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.642Z
@p:demo:r:2de0dfb5-bd4f9645 "kW",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kW demand min and max range over time period.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKw","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.652Z
@p:demo:r:2de0dfb5-34930744 "Headquarters",,,,,,,,,,,140797ft²,,,,,,,,,,,,,,,,,,,,,,,,"Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"600 W Main St, Richmond, VA","Richmond",C(37.508241,-77.332605),"US","23220","VA","600 W Main St",,,,,,,,,,,,,,,M,,,`/pod/demoExt/res/Headquarters.jpg`,,,,,,,,,,,"Richmond",,,,,,,,,,18:00:00,08:00:00,,,,,,,,,"Office",,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,M,,,,,,,,,,@ph::Site,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-195c1017 "Richmond, VA",,,1917,,2024-05-22T16:54:13.543Z
@p:demo:r:2de0dfb5-1ddfc9e2 "p:demo:r:2de0dfb5-1ddfc9e2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"arcKit",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.481Z
@p:demo:r:2de0dfb5-b0f32d2b "All Notes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"All Notes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"note",,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.715Z
@p:demo:r:2de0dfb5-c91e0fb7 "Site Card",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Site Card",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"tile\"}\nsite: {var kind:\"Ref<site>\" input defVal:@default}\ndates: {var kind:\"Span\" input defVal:Span(\"lastMonth\")}\nlayout: {var kind:\"Str\" defVal:\"grid 4x2; 0 0 1 1; 1 0 1 1; 2 0 1 1; 3 0 1 1; 0 1 1 1; 1 1 1 1; 2 1 1 1; 3 1 1 1\"}\ntile1: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 1)\"}\ntile2: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 2)\"}\ntile3: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 3)\"}\ntile4: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 4)\"}\ntile5: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 5)\"}\ntile6: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 6)\"}\ntile7: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 7)\"}\ntile8: Trio:\n  view: {inherit:\"card\"}\n  site: {var kind:\"Ref<site>\" binding:\"../site\"}\n  dates: {var kind:\"Span\" binding:\"../dates\"}\n  data: {expr:\"demoSiteCard({{site}}, {{dates}}, 8)\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoSiteCard",,,,,,,,,,,,,2024-05-22T16:54:13.721Z
@p:demo:r:2de0dfb5-fb253267 "p:demo:r:2de0dfb5-fb253267",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"arc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.48Z
@p:demo:r:2de0dfb5-d2f2e494 "Sensor has N/A Data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Sensor has N/A Data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"N/A was logged for the sensor during this time frame. This is usually\ndue to a network connectivity issue.\n\nRecommended Actions\n===================\n1. Check the connector configuration\n2. Check the point configuration\n3. Check the remote system\n\n**Priority:** Low",,,,,,,,,,,,,,,,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"sensorHasNaData","sensor and point",,,,,M,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.649Z
@p:demo:r:2de0dfb5-9c5e640c "AHU Cool Failure",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is cooling, but temperature drop between return sensor and\ndischarge sensor is under expected threshold\n\nRecommended Actions\n===================\n1. Check to see if cooling coil is dirty\n2. Check refrigerant levels in cooling system\n\n**Priority:** Medium",,,,,,,,,,,,,,M,,"Comfort",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolFailure","ahu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.645Z
@p:demo:r:2de0dfb5-e21485a7 "p:demo:r:2de0dfb5-e21485a7",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"io",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.476Z
@p:demo:r:2de0dfb5-fafbd020 "Carytown RTU-1 Cool-1",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T20:15:00-04:00 New_York,,,,"cov",,1231,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::CoolCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.614Z
@p:demo:r:2de0dfb5-75031ad9 "demoTableLive","demoTableLive",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  // map each point to a row in our display table\n  toRow: (pt) => do\n    val: pt[\"curVal\"]\n    {id: pt->id,\n     bar: val,\n     heatMap: val,\n     bubble: val,\n     gauge: val}\n  end\n\n  // build a live stream of points\n  readAllStream(discharge and temp and sensor)\n    .map(toRow)\n    .addColMeta(\"bar\", {viz:\"barCell\", color:\"#3498db\", chartMin:50, chartMax:80})\n    .addColMeta(\"heatMap\", {viz:\"heatMapCell\", colors:\"#3498db,#fff,#e74c3c\", padding:\"0\", chartMin:50, chartMax:80})\n    .addColMeta(\"bubble\", {viz:\"bubbleCell\", color:\"#2ecc71\", chartMax:80})\n    .addColMeta(\"gauge\",  {viz:\"gaugeCell\", colors:\"#2980b9,#3498db,#2ecc71,#f39c12,#e74c3c\", color:\"black\", chartMin:50, chartMax:80})\n    .feed\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.538Z
@p:demo:r:2de0dfb5-1a045101 "Headquarters VAV-1B ZoneTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",67.6°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneAirTempSensor,,,,,,,,,,,M,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.592Z
@p:demo:r:2de0dfb5-7f10eefd "Carytown RTU-1 ZoneTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",77.9°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::ZoneAirTempSensor,,,,,,,,,,,M,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.612Z
@p:demo:r:2de0dfb5-bef1123b "Gaithersburg ElecMeter-Main",,M,,,,,,,,,,625kW,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph::AcElecMeter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.637Z
@p:demo:r:2de0dfb5-35cc196a "Headquarters AHU-1 Fan",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",99.6%,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,@p:demo:r:2de0dfb5-a6d6549e "Headquarters ElecMeter-Hvac",,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::DischargeFanSpeedCmd,M,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,M,,,,,,,,,,,,,,2024-05-22T16:54:13.577Z
@p:demo:r:2de0dfb5-f0499d71 "Carytown Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph::Equip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.602Z
@p:demo:r:2de0dfb5-8116f387 "p:demo:r:2de0dfb5-8116f387",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"siteRef/spaceRef",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,[{disKey:"ui::elecPower" filter:"power and sensor and equipRef->elec" quantity:"power"},{disKey:"ui::elecConsumption" filter:"energy and sensor and equipRef->elec" quantity:"energy"},{filter:"elecCost and sensor and equipRef->elec" dis:"Elec Tariff Cost"},{filter:"volume and sensor and equipRef->water" quantity:"volume" dis:"Water Volume"},{filter:"volume and sensor and equipRef->naturalGas" quantity:"volume" dis:"Gas Consumption"}],,,,,,,,,,,,,,,,,,,,,,"demogen",,,,,,,,,,,,,,,,,,,,,,,,[{disKey:"ui::rule" select:"ruleRef.dis" icon:"rule"},{disKey:"ui::siteState" select:"targetRef.site.geoState" icon:"geoState"},{disKey:"ui::siteCity" select:"targetRef.site.geoCity" icon:"geoCity"},{disKey:"ui::site" select:"targetRef.site" icon:"site"},{disKey:"ui::equip" select:"targetRef.equip" icon:"equip"},{disKey:"ui::target" select:"targetRef" icon:"target"},{disKey:"ui::impact" select:"ruleRef.impact" icon:"info"}],,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.472Z
@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Richmond",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.542Z
@p:demo:r:2de0dfb5-ff28cfdd "Headquarters ElecMeter-Main kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",921.1kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-e43cbeaa "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,M,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.557Z
@p:demo:r:2de0dfb5-e0ae4c69 "elecKwhToCost","elecKwhToCost",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This is a simple demo function to convert kWh to \$ cost\n  with a simple fixed rate formula of \$0.14/kWh\n*/\n(rec, dates, opts, yield) => do\n  // for demo purposes use simple \$0.14/kWh\n  costPerKwh: 0.14\n  read(energy and equipRef == rec->equipRef)\n     .hisRead(dates, opts)\n     .hisRollup(avg, 1hr)\n     .each( row => do\n        cost: row[\"v0\"] * costPerKwh\n        cost = if (na() == cost) cost else cost.as(rec->unit)\n        yield(row->ts, cost)\n      end )\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.507Z
@p:demo:r:2de0dfb5-40491961 "oldChartDemoSparks","oldChartDemoSparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Plot kw against sparks for a given site\n() => do\n  site: read(site and dis == \"Gaithersburg\")\n  dates: lastWeek\n  sparks: navFilter(\"sparkTarget\", site).sparks(dates).sparkHis\n  kw: read(power and siteMeter and siteRef==site->id).hisRead(dates)\n  hisJoin([sparks, kw])\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.525Z
@p:demo:r:2de0dfb5-8a13165c "p:demo:r:2de0dfb5-8a13165c",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"rule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2023-01-01,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.485Z
@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Basement",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,M,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.546Z
@p:demo:r:2de0dfb5-82bd57d0 "Headquarters VAV-1A Reheat",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",35.6%,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,M,,,,,,,,"Number",,,,,,,,,,,,"Reheat",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",M,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::HotWaterValveCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,M,,,,,,,,M,,,,,,,,,,,2024-05-22T16:54:13.585Z
@p:demo:r:2de0dfb5-5530953d "Short Pump RTU-2 DischargeTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",60.7°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::DischargeAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.653Z
@p:demo:r:2de0dfb5-d48d7f3f "AHU Cool and Econ",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool and Econ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is simultaneously running mechanical cooling with the outside\ndamper open.  Most likely cause is a problem in the control algorithm.",,,,,,,,,,,,,,M,,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolAndEcon","ahu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.638Z
@p:demo:r:2de0dfb5-5a987758 "Gaithersburg ElecMeter-Main kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",832.3kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-bef1123b "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.67Z
@p:demo:r:2de0dfb5-15cd87de "p:demo:r:2de0dfb5-15cd87de",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"hisKit",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.479Z
@p:demo:r:2de0dfb5-793b54d5 "Charts",,,,M,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Charts",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view:   {inherit:\"chart\"}\nspan:   {var input kind:\"Span\" defVal:Span(\"yesterday\")}\nsample: {var input kind:\"Str\" defVal:\"AHU\" enum:\"AHU\" enum:\"AHU,AHU with NA,Stacked Bar,Negative Bar,Donut,HeatMap,Chart Min/Max,Chart Grouping\"}\ndata:   {expr:\"demoCharts({{span}}, {{sample}})\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoCharts",,,,,,,,,,,,,2024-05-22T16:54:13.716Z
@p:demo:r:2de0dfb5-93ddd8d7 "demoSiteReport","demoSiteReport",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(siteRef, span, tile) => do\n\n  site: if (siteRef == @default) read(site) else toRec(siteRef)\n  spanDis: span.toSpan.format\n\n  // tile 1 - image\n  if (tile == 1) do\n    return \"Site Report \\u2022 \" + site.dis + \"\\n\" +\n           \"###\\n\" +\n           \"![site image][640x480]`fan://demoExt/res/\" + site.dis + \".jpg`\\n\"\n  end\n\n\n  // tile 2 - weather\n  if (tile == 2) do\n    return readAll(weather and point and weatherStationRef==toWeather(site)->id)\n            .hisRead(span)\n            .addMeta({title:\"Weather Temp \\u2022 \" + spanDis})\n  end\n\n  // tile 3 - power chart\n  if (tile == 3) do\n    return read(point and power and siteMeter and siteRef==site->id)\n            .hisRead(span)\n            .addMeta({title:\"KWH \\u2022 \" + spanDis})\n  end\n\n  // tile 4 - power heat map\n  if (tile == 4) do\n    return read(point and power and siteMeter and siteRef==site->id)\n            .hisRead(span)\n            .addMeta({chartType:\"heatMap\", title:\"KWH \\u2022 \" + spanDis})\n  end\n\n  throw \"unknown tile \" + tile\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.535Z
@p:demo:r:2de0dfb5-a5653384 "Headquarters VAV-1B Reheat",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",91.2%,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,M,,,,,,,,"Number",,,,,,,,,,,,"Reheat",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",M,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::HotWaterValveCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,M,,,,,,,,M,,,,,,,,,,,2024-05-22T16:54:13.596Z
@p:demo:r:2de0dfb5-8d2be1f2 "Headquarters GasMeter-Main Consumption",,,,,,,,,,,,,,,,,,,,,,,M,"ok",99.7Ccf,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-a94c2d3a "Headquarters GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,M,,"Consumption",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::NaturalGasVolumeSensor,,,,,,,,,,,,,,,,,,,"New_York",,"Ccf",,,,,,,,,,M,,,,,,,,,,,,2024-05-22T16:54:13.561Z
@p:demo:r:2de0dfb5-d710330f "Headquarters Parking Lights Status",,,,,,,,,,,,,,,,,M,,,,1.8$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,"off,on",,,,@p:demo:r:2de0dfb5-f807669b "Headquarters Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:00:00-04:00 New_York,,,,"cov",,1794,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Status",,,,,,,,,,M,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2a9c81bd "Headquarters Parking",,,,@ph.points::RunCmd,,,,,M,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.569Z
@p:demo:r:2de0dfb5-b9259d8e "p:demo:r:2de0dfb5-b9259d8e",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"task",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.483Z
@p:demo:r:2de0dfb5-9e2fa7cd "Headquarters VAV-1A ZoneCO2",,,,,,,,M,,,,,,,,,,M,M,,,,M,"ok",99ppm,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-1c981477 "Headquarters VAV-1A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneCO2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneCo2Sensor,,,,,,,,,,,,,,,,,,,"New_York",,"ppm",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.587Z
@p:demo:r:2de0dfb5-2dbd765e "p:demo:r:2de0dfb5-2dbd765e",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.488Z
@p:demo:r:2de0dfb5-21c960c4 "kWh Δ Prev Year (kWh/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Δ Prev Year (kWh/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Delta of KWh consumption between selected time range and previous\nyear normalized by degree day.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwhDeltaPrevYear","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.656Z
@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,0,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Floor-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.547Z
@p:demo:r:2de0dfb5-2dc75679 "Short Pump RTU-1 ZoneTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",70.9°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-e24e1dbc "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::ZoneAirTempSensor,,,,,,,,,,,M,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.634Z
@p:demo:r:2de0dfb5-7ed6a13b "Headquarters ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,,,,M,"ok",81.9$,,,,,,,,,,,"\$equipRef \$navName",,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-e43cbeaa "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwhToCost",,,"sampled","sum",,,,,,,,,,,"Number",,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.points::NumberPoint,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.559Z
@p:demo:r:2de0dfb5-b69223f7 "Short Pump Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Main Lights",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph::Luminaire,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.629Z
@p:demo:r:2de0dfb5-ebf2acdc "Map",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Map",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"map\"}\ndata: {expr:\"demoMap()\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoMap",,,,,,,,,,,,,2024-05-22T16:54:13.72Z
@p:demo:r:2de0dfb5-9d02b473 "Short Pump RTU-2 ZoneTempSp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",M,,,,,,@ph.points::ZoneAirTempEffectiveSp,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.645Z
@p:demo:r:2de0dfb5-d54aef92 "kWh Δ Prev Year (kWh/°daysF)","kpiKwhDeltaPrevYear",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Δ Prev Year (kWh/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Delta of KWh consumption between selected time range and previous\nyear normalized by degree day.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  kwh:    {bind:\"energy and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kwh == null) return null\n\n    try do\n      cur: hisRead(kwh, date).hisClip.energyNormByDegreeDay.foldCol(\"v0\", sum)\n      base: energyBaselinePrevYear(kwh, date).hisClip.energyNormByDegreeDay.foldCol(\"v0\", sum)\n      out = {delta: (cur - base).as(1)}\n    end catch null\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.513Z
@p:demo:r:2de0dfb5-408de8cc "Headquarters AHU-1 Heat",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",10.3%,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"Heat",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::NumberPoint,,,,,,,,,,,M,,,,,,,,"New_York",,"%",,,M,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.573Z
@p:demo:r:2de0dfb5-872400f9 "Energy Summary",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Energy Summary",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"tile\"}\nspan: {var kind:\"Span\" input defVal:Span(\"lastWeek\")}\nlayout: {var kind:\"Str\" defVal:\"grid 2x2; 0 0 1 1; 1 0 1 1; 0 1 1 1; 1 1 1 1\"}\nsubView: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 1)\"}\nsubView1: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 2)\"}\nsubView2: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 3)\"}\nsubView3: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 4)\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoEnergySummary",,,,,,,,,,,,,2024-05-22T16:54:13.718Z
@p:demo:r:2de0dfb5-82440c7d "oldRuleHelpReport","oldRuleHelpReport",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  sections: []\n  readAll(rule).each rule => do\n    sections = sections.add(heading(rule.dis))\n    sections = sections.add(fandoc(rule[\"help\"]))\n  end\n  sections\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.527Z
@p:demo:r:2de0dfb5-a00ca905 "Headquarters Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph::Equip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.544Z
@p:demo:r:2de0dfb5-f49e1428 "p:demo:r:2de0dfb5-f49e1428",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"tariff",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.493Z
@p:demo:r:2de0dfb5-df5d738d "AHU Cool Failure","ahuCoolFailure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Unit is cooling, but temperature drop between return sensor and\ndischarge sensor is under expected threshold\n\nRecommended Actions\n===================\n1. Check to see if cooling coil is dirty\n2. Check refrigerant levels in cooling system\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,,,,M,,,,"/*\n  Unit is cooling, but temperature drop between return sensor and\n  discharge sensor is under expected threshold\n */\ndefcomp\n\n  target:   {}\n  date:     {}\n  out:      {readonly}\n  rat:      {bind:\"return and air and temp and sensor and equipRef=={{target->id}}\"}\n  dat:      {bind:\"discharge and air and temp and sensor and equipRef=={{target->id}}\"}\n  cool:     {bind:\"cool and cmd and (stage==1 or valve) and equipRef=={{target->id}}\"}\n  expected: {bindTuning:\"expected\", defVal:8Δ°F} // expected drop in temp in cooling mode\n\n  do\n    // convert expected to metric if neccessary\n    if (isMetric(dat)) expected = expected.to(1Δ°C)\n\n    // get times when temp drop is not over expected\n    dropNotEnough: ahuTempDiff(dat, rat, date).hisFindPeriods(t => t != null and t != na() and t < expected)\n\n    // get cool periods\n    cooling: hisRead(cool, date).hisFindPeriods(matchPointVal(_, true))\n\n    // compute intersection of periods\n    out = hisPeriodIntersection([dropNotEnough, cooling])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.499Z
@p:demo:r:2de0dfb5-65c3bfdf "AHU Cool and Heat Example","ahuCoolAndHeatExample",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool and Heat Example",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Unit is simultaneously running mechanical cooling and mechanical heating.\nMost likely cause is a problem in the control algorithm.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,,,,M,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  cool:   {bind:\"cool and cmd and (stage==1 or valve) and equipRef=={{target->id}}\"}\n  heat:   {bind:\"heat and cmd and (stage==1 or valve) and equipRef=={{target->id}}\"}\n  do\n    // get periods when cooling and heating\n    cooling: hisRead(cool, date).hisFindPeriods(matchPointVal(_, true))\n    heating: hisRead(heat, date).hisFindPeriods(matchPointVal(_, true))\n\n    // compute intersection of those periods\n    out = hisPeriodIntersection([cooling, heating])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.503Z
@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"\$siteRef \$navName",,,,M,,,,M,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,,M,,,@p:demo:r:2de0dfb5-6e62bede "Short Pump  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,"RTU-2",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,M,,,,,,,,,,M,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph::Rtu,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.644Z
@p:demo:r:2de0dfb5-8d42908c "Carytown RTU-1 ReturnTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",57.9°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,M,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::ReturnAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.618Z
@p:demo:r:2de0dfb5-7ad886fb "Table Live",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Table Live",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"table\"}\ndata: {expr:\"demoTableLive()\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoTableLive",,,,,,,,,,,,,2024-05-22T16:54:13.725Z
@p:demo:r:2de0dfb5-2a9c81bd "Headquarters Parking",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Parking",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.549Z
@p:demo:r:2de0dfb5-ad885980 "kW","kpiKw",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kW demand min and max range over time period.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  kw:     {bind:\"power and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kw == null) return null\n\n    his: hisRead(kw, date).hisClip\n    if (his.isEmpty or his.meta->hisEnd < kw->hisStart) return null\n\n    kpi: {min: his.foldCol(\"v0\", min),\n          max: his.foldCol(\"v0\", max)}\n\n    out = if (kpi.any v => na() == v ) null else kpi\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.509Z
@p:demo:r:2de0dfb5-1bb4688a "Headquarters AHU-1 MixedTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",73.9°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-915b6725 "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,M,,,"MixedTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::MixedAirTempSensor,,,,,,,,,,,,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.575Z
@p:demo:r:2de0dfb5-e455ac6a "All Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"All Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,"spark",,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.713Z
@p:demo:r:2de0dfb5-b4adf67c "demoMap","demoMap",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  x: read(site)->id\n  readAllStream(site).map(site => do\n\n    // lookup kw point\n    kwPoint: read(point and power and siteMeter and siteRef==site->id, false)\n    if (kwPoint == null) return {id: site->id}\n\n    // lookup current kw value\n    kw: kwPoint[\"curVal\"]\n    if (kw == null) return {id: site->id}\n\n    // map kw to a color\n    siteColor: \"green\"\n    if (kw > 800kW) siteColor = \"yellow\"\n    if (kw > 950kW) siteColor = \"red\"\n\n    {id: site->id,\n     title: site.dis,\n     subtitle: format(kw),\n     color: siteColor,\n     geoCoord: site[\"geoCoord\"]\n     }\n  end).feed\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.539Z
@p:demo:r:2de0dfb5-4a5b2211 "Arcs",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Arcs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"tile\"}\nlayout: {var kind:\"Str\" defVal:\"grid 6x6; 0 0 4 6; 4 0 2 6\"}\nsite: {var kind:\"Ref<site>\" input}\nsummary: Trio:\n  view: {inherit:\"arcSummary\"}\n  arcUnderRef: {binding:\"../site\"}\n  arcId: {var kind:\"Ref\" bindSelect:\"id\"}\n  favs: {hidden}\n  filter: {hidden}\n  new: {hidden}\n  trash: {hidden}\n  search: {hidden}\ndetail: Trio:\n  view: {inherit:\"arcDoc\"}\n  arc: {binding:\"../summary/arcId\"}\n  transition: {hidden}\n  reply: {hidden}\n  edit: {hidden}\n  move: {hidden}\n  trash: {hidden}\n  sortReplies: {hidden}\n  projStatus: {hidden}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"arcViewDemo",,,,,,,,,,,,,2024-05-22T16:54:13.719Z
@p:demo:r:2de0dfb5-70b603ec "Headquarters WaterMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,M,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"WaterMeter-Main",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph.equips::DomesticWaterMeter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,2024-05-22T16:54:13.562Z
@p:demo:r:2de0dfb5-52cc6b50 "Headquarters VAV-1B ZoneCO2",,,,,,,,M,,,,,,,,,,M,M,,,,M,"ok",49.2ppm,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneCO2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneCo2Sensor,,,,,,,,,,,,,,,,,,,"New_York",,"ppm",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.598Z
@p:demo:r:2de0dfb5-479eb267 "Short Pump Main Lights Status",,,,,,,,,,,,,,,,,M,,,,2.4$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-b69223f7 "Short Pump Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T22:30:00-04:00 New_York,,,,"cov",,1566,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::RunCmd,,,,,M,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.63Z
@p:demo:r:2de0dfb5-1808de10 "Gaithersburg ElecMeter-Main kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",1077.2kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-bef1123b "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,M,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.669Z
@p:demo:r:2de0dfb5-1aea2014 "kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kWh consumption summed over time period.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwh","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.654Z
@p:demo:r:2de0dfb5-edab8e90 "p:demo:r:2de0dfb5-edab8e90",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"map",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.487Z
@p:demo:r:2de0dfb5-6c08e90b "Gaithersburg ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,,,,M,"ok",98.5$,,,,,,,,,,,"\$equipRef \$navName",,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-bef1123b "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwhToCost",,,"sampled","sum",,,,,,,,,,,"Number",,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::NumberPoint,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.671Z
@p:demo:r:2de0dfb5-162df882 "Gaithersburg RTU-2 Heat-2",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T00:00:00-04:00 New_York,,,,"cov",,1752,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::HeatCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.698Z
@p:demo:r:2de0dfb5-921dab10 "Carytown RTU-1 OutsideDamper",,,,,,,,M,,,,,,,,,M,,,,,,M,"ok",26.4%,,,,,M,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-2488ff09 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"cov",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"OutsideDamper",,,,,,,,,M,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::OutsideDamperCmd,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.613Z
@p:demo:r:2de0dfb5-c9fb8d7f "Short Pump RTU-2 DischargePressure",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",1.7inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::DischargeAirPressureSensor,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.655Z
@p:demo:r:2de0dfb5-e43cbeaa "Headquarters ElecMeter-Main",,M,,,,,,,,,,825kW,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,M,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2808a100 "Headquarters Basement",,,,@ph::AcElecMeter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:16.727Z
@p:demo:r:2de0dfb5-498bc636 "oldChartDemoKwh","oldChartDemoKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Build a stacked bar graph with total consumption for each\n// month this year.  Chart type must be \"bar\" or \"stackedBar\".\n(chartType: \"stackedBar\") => do\n  // read all the sites and their main meter kwh  point\n  sites: readAll(site).sort(\"dis\")\n  kwhs: sites.map site => read(siteMeter and energy and siteRef==site->id)\n\n  // build up rows of {dis: month, site0: kwh, site1: kwh, ...}\n  rows: []\n  times(12) (i) => do\n    // get first and last of month\n    year: now().year\n    month: i+1\n    startOfMonth: date(year, month, 1)\n    endOfMonth: date(year, month, numDaysInMonth(startOfMonth))\n\n    // init row with dis: MMM\n    row: {dis: startOfMonth.format(\"MMM\")}\n\n    // add site0, site1, for total consumption for the site in current month\n    each(sites) (site, i) => do\n      kwh: hisRead(kwhs[i], startOfMonth..endOfMonth).hisClip.foldCol(\"v0\", sum)\n      row = row.set(\"site\"+i, kwh)\n    end\n\n    // add to our list of rows\n    rows = rows.add(row)\n  end\n\n  // now turn Dict[] into grid with column meta for each site column\n  grid: rows.toGrid\n  each(sites) (site, i) => do\n    grid = grid.addColMeta(\"site\"+i, {dis: site.dis, chartType: chartType, chartGroup: \"g\"})\n  end\n  grid.chart\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.524Z
@p:demo:r:2de0dfb5-045db5b6 "Carytown ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,,,,M,"ok",7.5$,,,,,,,,,,,"\$equipRef \$navName",,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-f4883a0a "Carytown ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwhToCost",,,"sampled","sum",,,,,,,,,,,"Number",,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-7abc80bb "Carytown",,,,,,,@ph.points::NumberPoint,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.607Z
@p:demo:r:2de0dfb5-6320430a "AHU Heat and Econ",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Heat and Econ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is simultaneously running mechanical heating with the outside\ndamper open.  Most likely cause is a problem in the control algorithm.",,,,,,,,,,,,,,M,,"Energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuHeatAndEcon","ahu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.639Z
@p:demo:r:2de0dfb5-3afe603c "Headquarters Floor-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Floor-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.548Z
@p:demo:r:2de0dfb5-0ebe03c2 "kWh","kpiKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kWh consumption summed over time period.",,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {readonly}\n  kwh:    {bind:\"energy and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kwh == null) return null\n\n    his: hisRead(kwh, date).hisClip\n\n    kpiSum: his.foldCol(\"v0\", sum)\n    out = if (na() == kpiSum) null else {sum: kpiSum}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.511Z
@p:demo:r:2de0dfb5-99daaeb1 "Gaithersburg ElecMeter-Hvac kWh",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",968.2kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,M,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,,,,,"Number",,,,,,,,,,,,"kWh",M,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActiveEnergySensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.667Z
@p:demo:r:2de0dfb5-2ebd3b80 "Gaithersburg RTU-2 ZoneTemp",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",66.9°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-d961fe49 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ZoneAirTempSensor,,,,,,,,,,,M,,M,,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.693Z
@p:demo:r:2de0dfb5-aa36a3e2 "Gaithersburg GasMeter-Main Consumption",,,,,,,,,,,,,,,,,,,,,,,M,"ok",79.2Ccf,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-09ed7429 "Gaithersburg GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,M,,"Consumption",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,M,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::NaturalGasVolumeSensor,,,,,,,,,,,,,,,,,,,"New_York",,"Ccf",,,,,,,,,,M,,,,,,,,,,,,2024-05-22T16:54:13.673Z
@p:demo:r:2de0dfb5-7d30fad2 "Gaithersburg ElecMeter-Hvac kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",693.9kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.666Z
@p:demo:r:2de0dfb5-8b94f9a2 "Headquarters Floor-2 Lights  Status",,,,,,,,,,,,,,,,,M,,,,2.4$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,"off,on",,,,@p:demo:r:2de0dfb5-1c294c09 "Headquarters Floor-2 Lights ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T18:45:00-04:00 New_York,,,,"cov",,1452,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-3afe603c "Headquarters Floor-2",,,,@ph.points::RunCmd,,,,,M,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.567Z
@p:demo:r:2de0dfb5-3baca6f8 "AHU Cool and Heat",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool and Heat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is simultaneously running mechanical cooling and mechanical heating.\nMost likely cause is a problem in the control algorithm.",,,,,,,,,,,,,,M,,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolAndHeat","ahu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.64Z
@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Washington DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.541Z
@p:demo:r:2de0dfb5-7acc52cf "Table Prez",,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Table Prez",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"table\"}\ndata: {expr:\"demoTablePrez()\"}",,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoTablePrez",,,,,,,,,,,,,2024-05-22T16:54:13.724Z
@p:demo:r:2de0dfb5-82657c4b "totalizeKwh","totalizeKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  Compute the total kWh consumed by a given meter over an interval of time:\n    - meter: Dict for elec meter record\n    - tsStart: DateTime of inclusive starting time\n    - tsEnd: DateTime of exclusive ending time\n    - returns: Number in kWh\n*/\n(meter, tsStart, tsEnd) => do\n\n  // get kwh point for meter\n  point: read(energy and equipRef == meter->id)\n\n  // read history for date and get hourly rollup of kWh\n  his: hisRead(point, tsStart.date .. tsEnd.date).hisRollup(sum, 1hr)\n\n  // filter out the times outside of our start/end time\n  filteredHis: findAll(his) r => tsStart <= r->ts and r->ts < tsEnd\n\n  // rollup the kWh for our filtered time period\n  filteredHis.foldCol(\"v0\", sum)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.502Z
@p:demo:r:2de0dfb5-c2c3d432 "Gaithersburg ElecMeter-Plug kW",,M,M,,,,,,,,,,,,,,,,,,,,M,"ok",928.9kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,M,,,,,,,,,@p:demo:r:2de0dfb5-a4bd61c4 "Gaithersburg ElecMeter-Plug",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,15min,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Number",,,,,,,,,,,,"kW",M,,,,,,,,,,,M,M,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::ElecNetTotalActivePowerSensor,,,,,,,,,,,,,,,,,,M,"New_York",,"kW",,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.66Z
@p:demo:r:2de0dfb5-9977c9eb "By revenue per site","energyNormByRevenue",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"By revenue per site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Function to normalize energy by revenue per site\n(data) => do\n  revenue: \"uninit\"\n  data.hisMap((val,ts,his) => do\n    if (revenue == \"uninit\") do\n      site: readById(his->siteRef)\n      revenue = if (site.has(\"revenue\")) site->revenue else null\n    end\n    if (revenue == null) revenue else val/revenue\n  end)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.529Z
@p:demo:r:2de0dfb5-03dbdc30 "p:demo:r:2de0dfb5-03dbdc30",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.486Z
@p:demo:r:2de0dfb5-f81e3f22 "Headquarters VAV-1B ZoneHumidity",,,,,,,,M,,,,,,,,,,,,,,,M,"ok",2.8%RH,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-122d9fed "Headquarters VAV-1B",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T23:45:00-04:00 New_York,,,,"sampled",,57400,2023-01-01T00:00:00-05:00 New_York,,,,M,,,,,"Number",,,,,,,,,,,,"ZoneHumidity",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,M,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-bf1f6c72 "Headquarters Floor-1",,,,@ph.points::ZoneAirHumiditySensor,,,,,,,,,,,,,,,,,,,"New_York",,"%RH",,,,,,,,,,,,,,,,,,,,,M,2024-05-22T16:54:13.599Z
@p:demo:r:2de0dfb5-87b19ae9 "Short Pump RTU-2 Heat-1",,,,,,,,,,,,,,,,,M,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2024-08-20T18:30:00-04:00 New_York,,,,"cov",,2914,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::HeatCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.65Z
@p:demo:r:2de0dfb5-f222b675 "demoEnergySummary","demoEnergySummary",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(span, tile) => do\n  spanDis: span.toSpan.format\n\n  // xquery reads\n  doReadHis: (f) => do\n    q: xq().xqProjs(navProjNames())\n    f(q)\n    q.xqHisRead(span).xqExecute\n  end\n  readPower:  () => doReadHis(q=>q.xqReadAll(power and equipRef->siteMeter))\n  readEnergy: () => doReadHis(q=>q.xqReadAll(energy and equipRef->siteMeter))\n\n  // map val cols\n  mapValColMeta: (his, f) => do\n    his.cols[1..-1].each col => do\n      his = his.addColMeta(col.name, col.meta.merge(f(col.meta)))\n    end\n    his\n  end\n\n  // tile 1 - main meter power\n  if (tile == 1) do\n    return readPower()\n           .hisRollupAuto\n           .mapValColMeta(pt => {dis:pt->siteRef.refDis})\n               .addMeta({title:\"KW by Site \\u2022 \" + spanDis})\n  end\n\n  // tile 2 - bar chart of total consumption\n  if (tile == 2) do\n    his: readEnergy().hisClip\n    rows: his.cols[1..-1].map col => do\n      total: his.foldCol(col.name, sum)\n      {site: col.meta->siteRef.refDis, kwh: total}\n    end\n    return rows.toGrid.reorderCols([\"site\", \"kwh\"])\n               .addColMeta(\"kwh\", {dis:\"kWh for \" + spanDis})\n               .addMeta({title:\"KWH by Site \\u2022 \" + spanDis})\n  end\n\n  // tile 3 - main meter energy gradient plot\n  if (tile == 3) do\n    grid: readEnergy().hisFoldCols(sum)\n    return grid.addMeta({chartType:\"heatMap\", title:\"All Sites Total Energy Use by Time of Day \\u2022 \"+ spanDis})\n  end\n\n  // tile 4 - donut of kwh per site\n  if (tile == 4) do\n    grid: readEnergy().hisRollup(sum, 1mo)\n    total: grid.hisFoldCols(sum).foldCol(\"v0\", sum)\n    return grid.mapValColMeta(pt => {\"dis\":pt->siteRef.refDis, \"chartType\":\"donut\"})\n               .addMeta({title:\"Total KWH by Site \\u2022 \"+ spanDis + \" \\u2022 \" + total.format(\"#,###\")})\n               .map(r => r.set(\"ts\", spanDis))\n  end\n\n  throw \"unknown tile \" + tile\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.533Z
@p:demo:r:2de0dfb5-f807669b "Headquarters Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-0593043b "Headquarters ElecMeter-Lighting",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Parking Lights",,,,,,,,,,M,,,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-34930744 "Headquarters",,,@p:demo:r:2de0dfb5-2a9c81bd "Headquarters Parking",,,,@ph::Luminaire,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.568Z
@p:demo:r:2de0dfb5-144b5c64 "AHU On and Fan Off",,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU On and Fan Off",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"The unit has some component in the \"on\" state such as cooling\nor heating, however the fan is not running.",,,,,,,,,,,,,,M,,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuOnAndFanOff","ahu",,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:22.641Z
@p:demo:r:2de0dfb5-3c674140 "Gaithersburg RTU-1 Cool-1",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-c727d125 "Gaithersburg ElecMeter-Hvac",,"off,on",,,,@p:demo:r:2de0dfb5-6e04b073 "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T19:30:00-04:00 New_York,,,,"cov",,2430,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",,,,,,,@ph.points::CoolCmd,,,1,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.683Z
@p:demo:r:2de0dfb5-35b7d4a8 "p:demo:r:2de0dfb5-35b7d4a8",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"haystack",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.491Z
@p:demo:r:2de0dfb5-6a3c8d04 "Short Pump RTU-2 Cool-2",,,,,,,,,,,,,,,,,M,,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,@p:demo:r:2de0dfb5-254430d0 "Short Pump ElecMeter-Main",,"off,on",,,,@p:demo:r:2de0dfb5-029c6327 "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T16:15:00-04:00 New_York,,,,"cov",,2114,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-ad74cb17 "Richmond",,,,,,,,,,,,,,,,,@p:demo:r:2de0dfb5-583d9570 "Short Pump",,,,,,,@ph.points::CoolCmd,,,2,,,,,,,,M,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.649Z
@p:demo:r:2de0dfb5-36cf83e0 "Washington, DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Washington, DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Washington",C(38.895111,-77.036365),"US",,"DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,M,,,M,,,["temp","condition","humidity","sunrise"],,,2024-05-22T16:54:13.708Z
@p:demo:r:2de0dfb5-54cb7f31 "Gaithersburg Misc Occupancy",,,,,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,"unocc,occ",,,,@p:demo:r:2de0dfb5-3ae82787 "Gaithersburg Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2024-08-20T21:15:00-04:00 New_York,,,,"cov",,1794,2023-01-01T00:00:00-05:00 New_York,,,,,,,,,"Bool",,,,,,,,,,,,"Occupancy",,,,,M,,,,,,,M,,,,,,,,@p:demo:r:2de0dfb5-2032d2bf "Washington DC",,,,,,,,,,,,,,,,M,@p:demo:r:2de0dfb5-b5e05ffc "Gaithersburg",M,,,,,,@ph.points::OccupiedSp,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.658Z
@p:demo:r:2de0dfb5-5511f816 "p:demo:r:2de0dfb5-5511f816",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"geo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2024-05-22T16:54:13.482Z

